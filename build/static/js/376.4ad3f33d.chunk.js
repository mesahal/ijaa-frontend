/*! For license information please see 376.4ad3f33d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_project_template=self.webpackChunkreact_project_template||[]).push([[376],{256:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1114).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},1184:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1114).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1376:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ne});var s=a(5043),r=a(3216),n=a(6637),l=a(6478),i=a(4583),d=a(1114);const c=(0,d.A)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),o=(0,d.A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var x=a(4183),m=a(920),g=a(342),u=a(2555),h=a(4383),p=a(9992);var v=a(4835);var y=a(2006),b=a(1681);var j=a(8120),f=a(1184),N=a(6735),k=a(1209),w=a(2065),A=a(4562),C=a(7114),E=a(4440),S=a(9229);const D=(0,d.A)("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);var P=a(4621),M=a(5481),L=a(2651),I=a(7669),R=a(3531),F=a(2894),O=a(212),T=a(579);const z=e=>{let{eventId:t,currentStatus:a=null,onRsvp:r,onUpdateRsvp:n,loading:l=!1,disabled:d=!1,showMessageInput:c=!1,className:o=""}=e;const[x,m]=(0,s.useState)(!1),[g,u]=(0,s.useState)(""),[h,p]=(0,s.useState)(null),v=async e=>{c?(p(e),m(!0)):await y(e,"")},y=async(e,s)=>{a?await n(t,e,s):await r(t,e,s),m(!1),u(""),p(null)},b=e=>{switch(e){case"CONFIRMED":return"success";case"MAYBE":return"warning";case"DECLINED":return"error";default:return"primary"}};return(0,T.jsxs)("div",{className:"space-y-3 ".concat(o),children:[a&&(0,T.jsx)("div",{className:"flex items-center justify-center",children:(0,T.jsxs)("div",{className:"inline-flex items-center space-x-2 px-3 py-2 rounded-lg bg-".concat(b(a),"-100 dark:bg-").concat(b(a),"-900/20 text-").concat(b(a),"-700 dark:text-").concat(b(a),"-300"),children:[(e=>{switch(e){case"CONFIRMED":return(0,T.jsx)(L.A,{className:"h-4 w-4"});case"MAYBE":return(0,T.jsx)(N.A,{className:"h-4 w-4"});case"DECLINED":return(0,T.jsx)(I.A,{className:"h-4 w-4"});default:return null}})(a),(0,T.jsx)("span",{className:"text-sm font-medium",children:(e=>{switch(e){case"CONFIRMED":return"Joined";case"MAYBE":return"Maybe";case"DECLINED":return"Declined";default:return"RSVP"}})(a)})]})}),(0,T.jsxs)("div",{className:"flex space-x-2",children:[(0,T.jsx)(F.A,{onClick:()=>v("CONFIRMED"),variant:"CONFIRMED"===a?"success":"primary",size:"sm",disabled:d||l,className:"flex-1",icon:l?(0,T.jsx)(i.A,{className:"h-4 w-4 animate-spin"}):(0,T.jsx)(L.A,{className:"h-4 w-4"}),children:l?"Joining...":"Join Event"}),(0,T.jsx)(F.A,{onClick:()=>v("MAYBE"),variant:"MAYBE"===a?"warning":"outline",size:"sm",disabled:d||l,className:"flex-1",icon:l?(0,T.jsx)(i.A,{className:"h-4 w-4 animate-spin"}):(0,T.jsx)(N.A,{className:"h-4 w-4"}),children:l?"Updating...":"Maybe"}),(0,T.jsx)(F.A,{onClick:()=>v("DECLINED"),variant:"DECLINED"===a?"error":"outline",size:"sm",disabled:d||l,className:"flex-1",icon:l?(0,T.jsx)(i.A,{className:"h-4 w-4 animate-spin"}):(0,T.jsx)(I.A,{className:"h-4 w-4"}),children:l?"Declining...":"Decline"})]}),x&&(0,T.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,T.jsx)(O.A,{className:"w-full max-w-md mx-4 p-6",children:(0,T.jsxs)("div",{className:"space-y-4",children:[(0,T.jsxs)("div",{className:"text-center",children:[(0,T.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Add a Message"}),(0,T.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["CONFIRMED"===h&&"Share your excitement about joining this event!","MAYBE"===h&&"Let the organizer know you might attend.","DECLINED"===h&&"Let the organizer know why you can't attend."]})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message (Optional)"}),(0,T.jsx)("textarea",{value:g,onChange:e=>u(e.target.value),placeholder:"Add a personal message...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900 transition-colors duration-200",rows:3})]}),(0,T.jsxs)("div",{className:"flex space-x-3",children:[(0,T.jsx)(F.A,{onClick:()=>{m(!1),u(""),p(null)},variant:"outline",className:"flex-1",children:"Cancel"}),(0,T.jsx)(F.A,{onClick:async()=>{h&&await y(h,g)},variant:"primary",className:"flex-1",disabled:l,icon:l?(0,T.jsx)(i.A,{className:"h-4 w-4 animate-spin"}):(0,T.jsx)(R.A,{className:"h-4 w-4"}),children:l?"Sending...":"Send RSVP"})]})]})})})]})};var U=a(1452);const q=e=>{let{event:t,isMyEvent:a,onEdit:n,onDelete:l,getEventTypeLabel:i,formatDate:d,onRsvp:c,onUpdateRsvp:o,rsvpLoading:m=!1,currentParticipationStatus:g=null,showRsvpButtons:u=!1,viewMode:h="grid"}=e;const p=(0,r.Zp)(),{bannerUrl:v,loadBannerUrl:y}=(0,U.A)(null===t||void 0===t?void 0:t.id);(0,s.useEffect)(()=>{null!==t&&void 0!==t&&t.id&&y()},[null===t||void 0===t?void 0:t.id,y]);const b=e=>{e.target.closest("button")||p("/events/".concat(t.id))},L=new Date(t.startDate)>new Date,I=(t.currentParticipants||0)>.7*(t.maxParticipants||0),R=t.isOnline;return"list"===h?(0,T.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-gray-700 overflow-hidden cursor-pointer",onClick:b,children:(0,T.jsx)("div",{className:"p-6",children:(0,T.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,T.jsx)("div",{className:"flex-shrink-0",children:(0,T.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,T.jsx)(x.A,{className:"h-8 w-8 text-white"})})}),(0,T.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,T.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,T.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,T.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,T.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300",children:i(t.category||t.eventType)}),L&&(0,T.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300",children:"Upcoming"}),I&&(0,T.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",children:"Popular"}),R&&(0,T.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300",children:"Online"})]}),(0,T.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1 line-clamp-1",children:t.title}),(0,T.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3 line-clamp-2",children:t.description})]}),(0,T.jsx)("div",{className:"flex items-center space-x-2 flex-shrink-0 ml-4",children:a&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("button",{onClick:()=>n(t),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Event",children:(0,T.jsx)(j.A,{className:"h-4 w-4"})}),(0,T.jsx)("button",{onClick:()=>l(t.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Event",children:(0,T.jsx)(f.A,{className:"h-4 w-4"})})]})})]}),(0,T.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,T.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[(0,T.jsx)(N.A,{className:"h-4 w-4 flex-shrink-0"}),(0,T.jsx)("span",{className:"truncate",children:d(t.startDate)})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[(0,T.jsx)(k.A,{className:"h-4 w-4 flex-shrink-0"}),(0,T.jsx)("span",{className:"truncate",children:t.location||"Location TBD"})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[(0,T.jsx)(w.A,{className:"h-4 w-4 flex-shrink-0"}),(0,T.jsxs)("span",{className:"truncate",children:[t.currentParticipants||0,"/",t.maxParticipants||"\u221e"]})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[(0,T.jsx)(A.A,{className:"h-4 w-4 flex-shrink-0"}),(0,T.jsx)("span",{className:"truncate",children:t.organizerName||"Organizer"})]})]}),u&&!a&&(0,T.jsx)("div",{className:"mt-4",children:(0,T.jsx)(z,{eventId:t.id,currentStatus:g,onRsvp:c,onUpdateRsvp:o,loading:m,showMessageInput:!1})})]})]})})}):(0,T.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-sm transition-shadow overflow-hidden group cursor-pointer",onClick:b,children:[(0,T.jsxs)("div",{className:"relative h-32 bg-gray-100 dark:bg-gray-700",style:{backgroundImage:"url(".concat(v||t.coverImage||t.image||"/cover.jpg",")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[(0,T.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-30"}),(0,T.jsxs)("div",{className:"absolute top-3 left-3 right-3 flex items-start justify-between",children:[(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-300",children:i(t.category||t.eventType)}),L&&(0,T.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300",children:"Upcoming"})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-1",children:[a&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("button",{onClick:()=>n(t),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Event",children:(0,T.jsx)(j.A,{className:"h-4 w-4"})}),(0,T.jsx)("button",{onClick:()=>l(t.id),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Event",children:(0,T.jsx)(f.A,{className:"h-4 w-4"})})]}),(0,T.jsx)("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors",children:(0,T.jsx)(C.A,{className:"h-4 w-4"})})]})]}),I&&(0,T.jsx)("div",{className:"absolute top-3 right-3",children:(0,T.jsxs)("div",{className:"flex items-center space-x-1 px-2 py-1 bg-orange-100 dark:bg-orange-900/50 rounded-full",children:[(0,T.jsx)(E.A,{className:"h-3 w-3 text-orange-600 dark:text-orange-400"}),(0,T.jsx)("span",{className:"text-xs font-medium text-orange-800 dark:text-orange-300",children:"Popular"})]})})]}),(0,T.jsxs)("div",{className:"p-4",children:[(0,T.jsxs)("div",{className:"mb-3",children:[(0,T.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:t.title}),(0,T.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm line-clamp-2 mb-3",children:t.description})]}),(0,T.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,T.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,T.jsx)(N.A,{className:"h-4 w-4 flex-shrink-0 text-gray-400"}),(0,T.jsx)("span",{className:"truncate",children:d(t.startDate)})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,T.jsx)(k.A,{className:"h-4 w-4 flex-shrink-0 text-gray-400"}),(0,T.jsx)("span",{className:"truncate",children:R?(0,T.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,T.jsx)("span",{children:"\ud83c\udf10"}),(0,T.jsx)("span",{children:"Online Event"})]}):t.location||"Location TBD"})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,T.jsx)(w.A,{className:"h-4 w-4 flex-shrink-0 text-gray-400"}),(0,T.jsxs)("span",{className:"truncate",children:[t.currentParticipants||0," of ",t.maxParticipants||"\u221e"," participants"]})]})]}),(0,T.jsx)("div",{className:"flex items-center justify-between mb-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center",children:(0,T.jsx)(A.A,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),(0,T.jsxs)("div",{children:[(0,T.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.organizerName||"Organizer"}),(0,T.jsx)("div",{className:"flex items-center space-x-1",children:!1!==t.isPublic?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(S.A,{className:"h-3 w-3 text-green-500"}),(0,T.jsx)("span",{className:"text-xs text-green-600 dark:text-green-400",children:"Public"})]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(D,{className:"h-3 w-3 text-orange-500"}),(0,T.jsx)("span",{className:"text-xs text-orange-600 dark:text-orange-400",children:"Private"})]})})]})]})}),(0,T.jsxs)("div",{className:"flex items-center justify-end space-x-1",children:[(0,T.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:(0,T.jsx)(P.A,{className:"h-4 w-4"})}),(0,T.jsx)("button",{className:"p-2 text-gray-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:(0,T.jsx)(M.A,{className:"h-4 w-4"})})]}),u&&!a&&(0,T.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:(0,T.jsx)(z,{eventId:t.id,currentStatus:g,onRsvp:c,onUpdateRsvp:o,loading:m,showMessageInput:!1})})]})]})};var B=a(6953);const V=(0,d.A)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),H=e=>{var t;let{searchQuery:a,onSearchChange:s,filterType:r,onFilterChange:n,onAdvancedSearch:l,eventTypeOptions:i=[]}=e;const d=a||r&&"all"!==r;return(0,T.jsxs)("div",{children:[(0,T.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,T.jsx)("div",{className:"flex-1",children:(0,T.jsxs)("div",{className:"relative",children:[(0,T.jsx)(B.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400","aria-hidden":"true"}),(0,T.jsx)("input",{type:"text",placeholder:"Search events by title, description, or location...",value:a,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-8 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white text-sm transition-colors hover:border-gray-400 dark:hover:border-gray-500","aria-label":"Search events"}),a&&(0,T.jsx)("button",{onClick:()=>s(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors","aria-label":"Clear search",children:(0,T.jsx)(I.A,{className:"h-3 w-3"})})]})}),(0,T.jsx)("div",{className:"lg:w-48",children:(0,T.jsxs)("div",{className:"relative",children:[(0,T.jsxs)("select",{value:r,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white text-sm appearance-none bg-white dark:bg-gray-700 transition-colors hover:border-gray-400 dark:hover:border-gray-500","aria-label":"Filter events by type",children:[(0,T.jsx)("option",{value:"all",children:"All Categories"}),i.map(e=>(0,T.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,T.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:(0,T.jsx)("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,T.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),(0,T.jsxs)("button",{onClick:l,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center justify-center space-x-2 font-medium","aria-label":"Open advanced search",children:[(0,T.jsx)(V,{className:"h-4 w-4"}),(0,T.jsx)("span",{children:"Advanced"})]})]}),d&&(0,T.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active filters:"}),(0,T.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a&&(0,T.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300",children:['Search: "',a,'"',(0,T.jsx)("button",{onClick:()=>s(""),className:"ml-1 p-0.5 hover:bg-blue-200 dark:hover:bg-blue-800 rounded-full transition-colors",children:(0,T.jsx)(I.A,{className:"h-3 w-3"})})]}),r&&"all"!==r&&(0,T.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300",children:["Category: ",(null===(t=i.find(e=>e.value===r))||void 0===t?void 0:t.label)||r,(0,T.jsx)("button",{onClick:()=>n("all"),className:"ml-1 p-0.5 hover:bg-purple-200 dark:hover:bg-purple-800 rounded-full transition-colors",children:(0,T.jsx)(I.A,{className:"h-3 w-3"})})]})]})]})})]})},G=e=>{let{isOpen:t,onClose:a,onSubmit:s,formData:r,setFormData:l,selectedEvent:d,loading:c,eventCategoryOptions:o=[]}=e;return t?(0,T.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,T.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,T.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,T.jsxs)("div",{className:"flex items-center justify-between",children:[(0,T.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:d?"Edit Event":"Create New Event"}),(0,T.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Close modal",children:(0,T.jsx)(I.A,{className:"h-6 w-6","aria-hidden":"true"})})]})}),(0,T.jsxs)("form",{onSubmit:s,className:"p-6 space-y-6",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"event-title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Event Title *"}),(0,T.jsx)("input",{id:"event-title",type:"text",required:!0,value:r.title,onChange:e=>l((0,u.A)((0,u.A)({},r),{},{title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter event title","aria-describedby":"title-required"}),(0,T.jsx)("div",{id:"title-required",className:"sr-only",children:"Required field"})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"event-description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,T.jsx)("textarea",{id:"event-description",value:r.description,onChange:e=>l((0,u.A)((0,u.A)({},r),{},{description:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter event description"})]}),(0,T.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"event-start-date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date & Time *"}),(0,T.jsx)("input",{id:"event-start-date",type:"datetime-local",required:!0,value:r.startDate,onChange:e=>l((0,u.A)((0,u.A)({},r),{},{startDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"event-end-date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Date & Time *"}),(0,T.jsx)("input",{id:"event-end-date",type:"datetime-local",required:!0,value:r.endDate,onChange:e=>l((0,u.A)((0,u.A)({},r),{},{endDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]}),(0,T.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"event-category",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Event Category *"}),(0,T.jsx)("select",{id:"event-category",required:!0,value:r.category,onChange:e=>l((0,u.A)((0,u.A)({},r),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:o.map(e=>(0,T.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"event-location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),(0,T.jsx)("input",{id:"event-location",type:"text",value:r.location,onChange:e=>l((0,u.A)((0,u.A)({},r),{},{location:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter event location"})]})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"max-participants",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Maximum Participants"}),(0,T.jsx)("input",{id:"max-participants",type:"number",min:"1",max:"1000",value:r.maxParticipants,onChange:e=>l((0,u.A)((0,u.A)({},r),{},{maxParticipants:parseInt(e.target.value)||50})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"50"}),(0,T.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Leave empty for unlimited participants"})]}),(0,T.jsx)("div",{className:"space-y-4",children:(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Privacy Settings"}),(0,T.jsxs)("div",{className:"space-y-3",children:[(0,T.jsxs)("label",{className:"flex items-center",children:[(0,T.jsx)("input",{type:"checkbox",checked:r.isPublic,onChange:e=>l((0,u.A)((0,u.A)({},r),{},{isPublic:e.target.checked})),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,T.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Public Event (visible to all users)"})]}),(0,T.jsxs)("label",{className:"flex items-center",children:[(0,T.jsx)("input",{type:"checkbox",checked:r.requiresApproval,onChange:e=>l((0,u.A)((0,u.A)({},r),{},{requiresApproval:e.target.checked})),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,T.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Require approval for participation"})]})]})]})}),(0,T.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,T.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,T.jsx)("button",{type:"submit",disabled:c,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:c?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(i.A,{className:"h-4 w-4 animate-spin mr-2"}),d?"Updating...":"Creating..."]}):(0,T.jsxs)(T.Fragment,{children:[d?(0,T.jsx)(j.A,{className:"h-4 w-4 mr-2"}):(0,T.jsx)(n.A,{className:"h-4 w-4 mr-2"}),d?"Update Event":"Create Event"]})})]})]})]})}):null},Y=(0,d.A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var W=a(6464),J=a(8590);const K=(0,d.A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var Z=a(2134),_=a(7091);const Q=(0,d.A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var X=a(2875);const $=e=>{let{eventId:t,onCommentAdded:a,onCommentUpdated:r,onCommentDeleted:n}=e;const{user:d}=(0,g.h)(),[c,o]=(0,s.useState)(""),[x,m]=(0,s.useState)(null),[p,v]=(0,s.useState)(""),{comments:y,commentsLoading:b,commentsError:N,loadComments:k,addComment:w,updateComment:C,deleteComment:E,toggleCommentLike:S,clearCommentsError:D}=(e=>{const{user:t}=(0,g.h)(),[a,r]=(0,s.useState)([]),[n,l]=(0,s.useState)(!1),[i,d]=(0,s.useState)(null),[c,o]=(0,s.useState)({currentPage:0,totalPages:0,totalElements:0,hasNext:!1,hasPrevious:!1}),[x,m]=(0,s.useState)(!1),[p,v]=(0,s.useState)(null),[y,b]=(0,s.useState)(!1),[j,f]=(0,s.useState)(null),[N,k]=(0,s.useState)(!1),[w,A]=(0,s.useState)(null),[C,E]=(0,s.useState)(!1),[S,D]=(0,s.useState)(null),P=(0,s.useCallback)(async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(null===t||void 0===t||!t.token)return r([]),void l(!1);if(e){l(!0),d(null);try{const t=await h.A.getEventComments(e,a,s);if(t&&(t.success||"200"===t.code)){const e=t.data,a=t.pagination||e;e&&e.content&&Array.isArray(e.content)?(r(e.content),o({currentPage:a.currentPage||e.number||0,totalPages:a.totalPages||0,totalElements:a.totalElements||0,hasNext:void 0!==a.hasNext?a.hasNext:!e.last,hasPrevious:void 0!==a.hasPrevious?a.hasPrevious:!e.first})):Array.isArray(e)?(r(e),o({currentPage:a.currentPage||0,totalPages:a.totalPages||1,totalElements:a.totalElements||e.length,hasNext:void 0!==a.hasNext&&a.hasNext,hasPrevious:void 0!==a.hasPrevious&&a.hasPrevious})):(r([]),o({currentPage:a.currentPage||0,totalPages:a.totalPages||0,totalElements:a.totalElements||0,hasNext:void 0!==a.hasNext&&a.hasNext,hasPrevious:void 0!==a.hasPrevious&&a.hasPrevious}))}else r([]),o({currentPage:0,totalPages:0,totalElements:0,hasNext:!1,hasPrevious:!1})}catch(c){var n,i;const e=c.message||(null===(n=c.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Failed to load comments";d(e),r([])}finally{l(!1)}}else d("Event ID is required")},[null===t||void 0===t?void 0:t.token]),M=(0,s.useCallback)(async function(a){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===t||void 0===t||!t.token)return v("Authentication required"),{success:!1,error:"Authentication required"};if(!e)return v("Event ID is required"),{success:!1,error:"Event ID is required"};if(!a||""===a.trim())return v("Comment content is required"),{success:!1,error:"Comment content cannot be empty"};m(!0),v(null);try{const t=await h.A.addEventComment(e,a,s);if(t&&(t.success||"200"===t.code||"201"===t.code))return await P(c.currentPage,10),{success:!0,data:t.data};throw new Error((null===t||void 0===t?void 0:t.message)||"Failed to add comment")}catch(l){var r,n;const e=l.message||(null===(r=l.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to add comment";return v(e),{success:!1,error:e}}finally{m(!1)}},[null===t||void 0===t?void 0:t.token,P,c]),L=(0,s.useCallback)(async(e,a)=>{if(null===t||void 0===t||!t.token)return f("Authentication required"),{success:!1,error:"Authentication required"};if(!e)return f("Comment ID is required"),{success:!1,error:"Comment ID is required"};if(!a||""===a.trim())return f("Comment content is required"),{success:!1,error:"Comment content cannot be empty"};b(!0),f(null);try{const t=await h.A.updateComment(e,a);if(t&&(t.success||"200"===t.code))return r(s=>s.map(s=>{var r;return s.id===e?(0,u.A)((0,u.A)({},s),{},{content:a.trim(),updatedAt:(null===(r=t.data)||void 0===r?void 0:r.updatedAt)||(new Date).toISOString()}):s})),{success:!0,data:t.data};throw new Error((null===t||void 0===t?void 0:t.message)||"Failed to update comment")}catch(l){var s,n;const e=l.message||(null===(s=l.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||"Failed to update comment";return f(e),{success:!1,error:e}}finally{b(!1)}},[null===t||void 0===t?void 0:t.token]),I=(0,s.useCallback)(async e=>{if(null===t||void 0===t||!t.token)return A("Authentication required"),{success:!1,error:"Authentication required"};if(!e)return A("Comment ID is required"),{success:!1,error:"Comment ID is required"};k(!0),A(null);try{const t=await h.A.deleteComment(e);if(t&&(t.success||"200"===t.code))return r(t=>t.filter(t=>t.id!==e)),{success:!0};throw new Error((null===t||void 0===t?void 0:t.message)||"Failed to delete comment")}catch(n){var a,s;const e=n.message||(null===(a=n.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to delete comment";return A(e),{success:!1,error:e}}finally{k(!1)}},[null===t||void 0===t?void 0:t.token]),R=(0,s.useCallback)(async e=>{if(null===t||void 0===t||!t.token)return D("Authentication required"),{success:!1,error:"Authentication required"};if(!e)return D("Comment ID is required"),{success:!1,error:"Comment ID is required"};E(!0),D(null);try{const t=await h.A.toggleCommentLike(e);if(t&&(t.success||"200"===t.code))return r(a=>a.map(a=>{var s;return a.id===e?(0,u.A)((0,u.A)({},a),{},{likes:(null===(s=t.data)||void 0===s?void 0:s.totalLikes)||a.likes}):a})),{success:!0,data:t.data};throw new Error((null===t||void 0===t?void 0:t.message)||"Failed to toggle comment like")}catch(n){var a,s;const e=n.message||(null===(a=n.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to toggle comment like";return D(e),{success:!1,error:e}}finally{E(!1)}},[null===t||void 0===t?void 0:t.token]),F=(0,s.useCallback)(async()=>{c.hasNext&&await P(c.currentPage+1,10)},[c,P]),O=(0,s.useCallback)(async()=>{c.hasPrevious&&await P(c.currentPage-1,10)},[c,P]),T=(0,s.useCallback)(async e=>{await P(e,10)},[P]),z=(0,s.useCallback)(()=>{d(null)},[]),U=(0,s.useCallback)(()=>{v(null)},[]),q=(0,s.useCallback)(()=>{f(null)},[]),B=(0,s.useCallback)(()=>{A(null)},[]),V=(0,s.useCallback)(()=>{D(null)},[]),H=(0,s.useCallback)((e,t)=>(null===t||void 0===t?void 0:t.id)&&(null===e||void 0===e?void 0:e.createdBy)&&t.id===e.createdBy,[]),G=(0,s.useCallback)((e,t)=>(null===t||void 0===t?void 0:t.id)&&(null===e||void 0===e?void 0:e.createdBy)&&(t.id===e.createdBy||"ADMIN"===t.role),[]);return{comments:a,commentsLoading:n,commentsError:i,commentsPagination:c,loadComments:P,goToNextPage:F,goToPreviousPage:O,goToPage:T,clearCommentsError:z,addCommentLoading:x,addCommentError:p,addComment:M,clearAddCommentError:U,updateCommentLoading:y,updateCommentError:j,updateComment:L,clearUpdateCommentError:q,deleteCommentLoading:N,deleteCommentError:w,deleteComment:I,clearDeleteCommentError:B,likeCommentLoading:C,likeCommentError:S,toggleCommentLike:R,clearLikeCommentError:V,canEditComment:H,canDeleteComment:G}})(t);(0,s.useEffect)(()=>{t&&k()},[t,k]),(0,s.useEffect)(()=>{if(N){const e=setTimeout(()=>D(),5e3);return()=>clearTimeout(e)}},[N,D]);const M=e=>{const t=new Date(e),a=(new Date-t)/36e5;return a<1?"Just now":a<24?"".concat(Math.floor(a),"h ago"):t.toLocaleDateString()},L=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=(null===d||void 0===d?void 0:d.id)===e.createdBy,s=(null===d||void 0===d?void 0:d.id)===e.createdBy||"ADMIN"===(null===d||void 0===d?void 0:d.role),l=(null===x||void 0===x?void 0:x.id)===e.id;return(0,T.jsx)("div",{className:"".concat(t?"ml-8 mt-3":"mb-4"),children:(0,T.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[(0,T.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:(0,T.jsx)(A.A,{className:"w-4 h-4 text-white"})}),(0,T.jsxs)("div",{children:[(0,T.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.createdByUsername||"Anonymous"}),(0,T.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[M(e.createdAt),e.updatedAt!==e.createdAt&&" (edited)"]})]})]}),(a||s)&&(0,T.jsxs)("div",{className:"relative",children:[(0,T.jsx)("button",{onClick:()=>m(e),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,T.jsx)(Q,{className:"w-4 h-4"})}),(null===x||void 0===x?void 0:x.id)===e.id&&(0,T.jsxs)("div",{className:"absolute right-0 top-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-[120px]",children:[a&&(0,T.jsxs)("button",{onClick:()=>{v(e.content),m(e)},className:"w-full px-3 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center space-x-2",children:[(0,T.jsx)(j.A,{className:"w-3 h-3"}),(0,T.jsx)("span",{children:"Edit"})]}),s&&(0,T.jsxs)("button",{onClick:()=>(async e=>{(await E(e)).success&&(null===n||void 0===n||n(e))})(e.id),className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center space-x-2",children:[(0,T.jsx)(f.A,{className:"w-3 h-3"}),(0,T.jsx)("span",{children:"Delete"})]})]})]})]}),l?(0,T.jsxs)("div",{className:"mb-3",children:[(0,T.jsx)("textarea",{value:p,onChange:e=>v(e.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white resize-none",rows:3,placeholder:"Edit your comment..."}),(0,T.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,T.jsx)("button",{onClick:()=>(async e=>{if(!p.trim())return;const t=await C(e,p.trim());t.success&&(m(null),v(""),null===r||void 0===r||r(t.data))})(e.id),disabled:b,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors disabled:opacity-50",children:b?(0,T.jsx)(i.A,{className:"w-3 h-3 animate-spin"}):"Update"}),(0,T.jsx)("button",{onClick:()=>{m(null),v("")},className:"px-3 py-1 text-gray-600 dark:text-gray-400 text-sm border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]}):(0,T.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:e.content}),(0,T.jsx)("div",{className:"flex items-center space-x-4",children:(0,T.jsxs)("button",{onClick:()=>(async e=>{await S(e)})(e.id),className:"flex items-center space-x-1 text-sm transition-colors ".concat(e.isLiked?"text-red-500 hover:text-red-600":"text-gray-500 hover:text-gray-600 dark:hover:text-gray-400"),children:[(0,T.jsx)(P.A,{className:"w-4 h-4 ".concat(e.isLiked?"fill-current":"")}),(0,T.jsx)("span",{children:e.likeCount||0})]})})]})},e.id)};return b&&0===y.length?(0,T.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,T.jsx)(i.A,{className:"w-6 h-6 animate-spin text-blue-500"}),(0,T.jsx)("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading comments..."})]}):(0,T.jsxs)("div",{className:"space-y-4",children:[(0,T.jsx)("div",{className:"flex items-center justify-between",children:(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsx)(Y,{className:"w-5 h-5 text-gray-500"}),(0,T.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Comments (",y.length,")"]})]})}),N&&(0,T.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,T.jsx)(l.A,{className:"w-5 h-5 text-red-500"}),(0,T.jsx)("span",{className:"text-red-700 dark:text-red-400 text-sm",children:N})]}),(0,T.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!c.trim())return;const t=await w(c.trim());t.success&&(o(""),null===a||void 0===a||a(t.data))},className:"space-y-3",children:[(0,T.jsx)("textarea",{value:c,onChange:e=>o(e.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white resize-none",rows:3,placeholder:"Add a comment...",disabled:b}),(0,T.jsx)("div",{className:"flex items-center justify-between",children:(0,T.jsxs)("button",{type:"submit",disabled:b||!c.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center space-x-2",children:[b?(0,T.jsx)(i.A,{className:"w-4 h-4 animate-spin"}):(0,T.jsx)(X.A,{className:"w-4 h-4"}),(0,T.jsx)("span",{children:"Post Comment"})]})})]}),0===y.length?(0,T.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,T.jsx)(Y,{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),(0,T.jsx)("p",{children:"No comments yet. Be the first to comment!"})]}):(0,T.jsx)("div",{className:"space-y-4",children:y.map(e=>L(e))})]})};var ee=a(2623),te=a(9732),ae=a(256),se=a(7473),re=a(9300);const ne=e=>{let{eventId:t,onMediaAdded:a,onMediaUpdated:r,onMediaDeleted:d}=e;const{user:x}=(0,g.h)(),m=(0,s.useRef)(null),[h,p]=(0,s.useState)([]),[v,y]=(0,s.useState)(!1),[b,N]=(0,s.useState)(null),[k,w]=(0,s.useState)(!1),[A,C]=(0,s.useState)("grid"),[E,S]=(0,s.useState)(null),[D,M]=(0,s.useState)(!1),[L,R]=(0,s.useState)({caption:"",type:"IMAGE"}),[F,O]=(0,s.useState)(null),[z,U]=(0,s.useState)(null),[q,B]=(0,s.useState)(""),V="IMAGE",H="VIDEO",G="DOCUMENT",Y=e=>{switch(e){case V:return"Image";case H:return"Video";case G:return"Document";default:return"File"}};(0,s.useEffect)(()=>{t&&J()},[t]);const J=async()=>{y(!0),N(null);try{const e=await re.A.get("/events/media/event/".concat(t),{headers:{"X-USER_ID":btoa(JSON.stringify({username:null===x||void 0===x?void 0:x.username,userId:null===x||void 0===x?void 0:x.id}))}});p(e.data.data||[])}catch(e){N(e.message)}finally{y(!1)}},K=e=>{S(e)};return v&&0===h.length?(0,T.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,T.jsx)(i.A,{className:"w-6 h-6 animate-spin text-blue-500"}),(0,T.jsx)("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading media..."})]}):(0,T.jsxs)("div",{className:"space-y-4",children:[(0,T.jsxs)("div",{className:"flex items-center justify-between",children:[(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsx)(W.A,{className:"w-5 h-5 text-gray-500"}),(0,T.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Media (",h.length,")"]})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsxs)("div",{className:"flex items-center border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden",children:[(0,T.jsx)("button",{onClick:()=>C("grid"),className:"p-2 transition-colors ".concat("grid"===A?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"),children:(0,T.jsx)(c,{className:"w-4 h-4"})}),(0,T.jsx)("button",{onClick:()=>C("list"),className:"p-2 transition-colors ".concat("list"===A?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"),children:(0,T.jsx)(o,{className:"w-4 h-4"})})]}),(0,T.jsxs)("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[(0,T.jsx)(n.A,{className:"w-4 h-4"}),(0,T.jsx)("span",{children:"Upload Media"})]})]})]}),b&&(0,T.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,T.jsx)(l.A,{className:"w-5 h-5 text-red-500"}),(0,T.jsx)("span",{className:"text-red-700 dark:text-red-400 text-sm",children:b})]}),0===h.length?(0,T.jsxs)("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[(0,T.jsx)(W.A,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600"}),(0,T.jsx)("p",{className:"text-lg font-medium mb-2",children:"No media yet"}),(0,T.jsx)("p",{className:"text-sm",children:"Upload photos, videos, or documents to share with event participants."}),(0,T.jsxs)("button",{onClick:()=>M(!0),className:"mt-4 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2 mx-auto",children:[(0,T.jsx)(ae.A,{className:"w-4 h-4"}),(0,T.jsx)("span",{children:"Upload First Media"})]})]}):(0,T.jsx)("div",{className:"grid"===A?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4":"space-y-4",children:h.map(e=>{const t=(null===x||void 0===x?void 0:x.id)===e.createdBy,a=(null===x||void 0===x?void 0:x.id)===e.createdBy||"ADMIN"===(null===x||void 0===x?void 0:x.role),s=(null===z||void 0===z?void 0:z.id)===e.id;return(0,T.jsx)("div",{className:"relative group",children:(0,T.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden ".concat("grid"===A?"aspect-square":""),children:[(0,T.jsxs)("div",{className:"relative",children:[e.type===V?(0,T.jsx)("img",{src:e.fileUrl,alt:e.caption||"Event media",className:"w-full h-full object-cover cursor-pointer transition-transform hover:scale-105 ".concat("grid"===A?"aspect-square":"h-32"),onClick:()=>K(e)}):e.type===H?(0,T.jsx)("video",{src:e.fileUrl,className:"w-full h-full object-cover cursor-pointer transition-transform hover:scale-105 ".concat("grid"===A?"aspect-square":"h-32"),onClick:()=>K(e),controls:!0}):(0,T.jsx)("div",{className:"flex items-center justify-center bg-gray-100 dark:bg-gray-700 cursor-pointer transition-transform hover:scale-105 ".concat("grid"===A?"aspect-square":"h-32"),onClick:()=>K(e),children:(0,T.jsx)(ee.A,{className:"w-12 h-12 text-gray-400"})}),(0,T.jsx)("div",{className:"absolute top-2 left-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded-full text-xs",children:Y(e.type)}),(t||a)&&(0,T.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,T.jsxs)("div",{className:"relative",children:[(0,T.jsx)("button",{onClick:()=>U(e),className:"bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-70 transition-colors",children:(0,T.jsx)(Q,{className:"w-4 h-4"})}),(null===z||void 0===z?void 0:z.id)===e.id&&(0,T.jsxs)("div",{className:"absolute right-0 top-8 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-[120px]",children:[t&&(0,T.jsxs)("button",{onClick:()=>{B(e.caption||""),U(e)},className:"w-full px-3 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center space-x-2",children:[(0,T.jsx)(j.A,{className:"w-3 h-3"}),(0,T.jsx)("span",{children:"Edit Caption"})]}),a&&(0,T.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this media?")){y(!0),N(null);try{await re.A.delete("/events/media/".concat(e),{headers:{"X-USER_ID":btoa(JSON.stringify({username:null===x||void 0===x?void 0:x.username,userId:null===x||void 0===x?void 0:x.id}))}}),p(t=>t.filter(t=>t.id!==e)),null===d||void 0===d||d(e)}catch(t){N(t.message)}finally{y(!1)}}})(e.id),className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center space-x-2",children:[(0,T.jsx)(f.A,{className:"w-3 h-3"}),(0,T.jsx)("span",{children:"Delete"})]})]})]})})]}),(0,T.jsx)("div",{className:"p-3",children:s?(0,T.jsxs)("div",{className:"space-y-2",children:[(0,T.jsx)("input",{type:"text",value:q,onChange:e=>B(e.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",placeholder:"Add a caption..."}),(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsx)("button",{onClick:()=>(async e=>{if(q.trim()){y(!0),N(null);try{const t=await re.A.put("/events/media/".concat(e,"/caption"),{caption:q.trim()},{headers:{"X-USER_ID":btoa(JSON.stringify({username:null===x||void 0===x?void 0:x.username,userId:null===x||void 0===x?void 0:x.id}))}});p(a=>a.map(a=>a.id===e?(0,u.A)((0,u.A)({},a),{},{caption:t.data.data.caption}):a)),U(null),B(""),null===r||void 0===r||r(t.data.data)}catch(t){N(t.message)}finally{y(!1)}}})(e.id),disabled:v,className:"px-2 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded-lg transition-colors disabled:opacity-50",children:v?(0,T.jsx)(i.A,{className:"w-3 h-3 animate-spin"}):"Update"}),(0,T.jsx)("button",{onClick:()=>{U(null),B("")},className:"px-2 py-1 text-gray-600 dark:text-gray-400 text-xs border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]}):(0,T.jsxs)("div",{children:[e.caption&&(0,T.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2 line-clamp-2",children:e.caption}),(0,T.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,T.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()}),(0,T.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,T.jsxs)("button",{onClick:()=>(async e=>{try{const t=await re.A.post("/events/media/".concat(e,"/like"),{},{headers:{"X-USER_ID":btoa(JSON.stringify({username:null===x||void 0===x?void 0:x.username,userId:null===x||void 0===x?void 0:x.id}))}});p(a=>a.map(a=>a.id===e?(0,u.A)((0,u.A)({},a),{},{isLiked:t.data.data.isLiked,likeCount:t.data.data.likeCount}):a))}catch(t){}})(e.id),className:"flex items-center space-x-1 transition-colors ".concat(e.isLiked?"text-red-500 hover:text-red-600":"text-gray-500 hover:text-gray-600 dark:hover:text-gray-400"),children:[(0,T.jsx)(P.A,{className:"w-3 h-3 ".concat(e.isLiked?"fill-current":"")}),(0,T.jsx)("span",{children:e.likeCount||0})]}),(0,T.jsxs)("button",{onClick:()=>K(e),className:"flex items-center space-x-1 text-gray-500 hover:text-gray-600 dark:hover:text-gray-400 transition-colors",children:[(0,T.jsx)(te.A,{className:"w-3 h-3"}),(0,T.jsx)("span",{children:"View"})]})]})]})]})})]})},e.id)})}),D&&(0,T.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,T.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[(0,T.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,T.jsxs)("div",{className:"flex items-center justify-between",children:[(0,T.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Upload Media"}),(0,T.jsx)("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,T.jsx)(I.A,{className:"h-6 w-6"})})]})}),(0,T.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),F){w(!0),N(null);try{const e=new FormData;e.append("eventId",t),e.append("file",F),e.append("caption",L.caption.trim()),e.append("type",L.type);const s=await re.A.post("/events/media",e,{headers:{"Content-Type":"multipart/form-data","X-USER_ID":btoa(JSON.stringify({username:null===x||void 0===x?void 0:x.username,userId:null===x||void 0===x?void 0:x.id}))}});p(e=>[s.data.data,...e]),M(!1),O(null),R({caption:"",type:V}),null===a||void 0===a||a(s.data.data)}catch(s){N(s.message)}finally{w(!1)}}},className:"p-6 space-y-4",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select File"}),(0,T.jsx)("input",{ref:m,type:"file",onChange:e=>{const t=e.target.files[0];if(t){O(t);const e=t.name.split(".").pop().toLowerCase();let a=G;["jpg","jpeg","png","gif","webp"].includes(e)?a=V:["mp4","avi","mov","wmv","flv"].includes(e)&&(a=H),R(e=>(0,u.A)((0,u.A)({},e),{},{type:a}))}},accept:"image/*,video/*,.pdf,.doc,.docx,.txt",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Media Type"}),(0,T.jsxs)("select",{value:L.type,onChange:e=>R(t=>(0,u.A)((0,u.A)({},t),{},{type:e.target.value})),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[(0,T.jsx)("option",{value:V,children:"Image"}),(0,T.jsx)("option",{value:H,children:"Video"}),(0,T.jsx)("option",{value:G,children:"Document"})]})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Caption (Optional)"}),(0,T.jsx)("textarea",{value:L.caption,onChange:e=>R(t=>(0,u.A)((0,u.A)({},t),{},{caption:e.target.value})),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white resize-none",rows:3,placeholder:"Add a description..."})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-3 pt-4",children:[(0,T.jsxs)("button",{type:"submit",disabled:k||!F,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center space-x-2",children:[k?(0,T.jsx)(i.A,{className:"w-4 h-4 animate-spin"}):(0,T.jsx)(ae.A,{className:"w-4 h-4"}),(0,T.jsx)("span",{children:k?"Uploading...":"Upload"})]}),(0,T.jsx)("button",{type:"button",onClick:()=>M(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})]})}),E&&(0,T.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:(0,T.jsxs)("div",{className:"relative max-w-4xl max-h-[90vh] w-full",children:[(0,T.jsx)("button",{onClick:()=>S(null),className:"absolute top-4 right-4 z-10 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-colors",children:(0,T.jsx)(I.A,{className:"h-6 w-6"})}),(0,T.jsxs)("div",{className:"flex flex-col items-center",children:[E.type===V?(0,T.jsx)("img",{src:E.fileUrl,alt:E.caption||"Event media",className:"max-w-full max-h-[70vh] object-contain rounded-lg"}):E.type===H?(0,T.jsx)("video",{src:E.fileUrl,className:"max-w-full max-h-[70vh] rounded-lg",controls:!0,autoPlay:!0}):(0,T.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg text-center",children:[(0,T.jsx)(ee.A,{className:"w-24 h-24 text-gray-400 mx-auto mb-4"}),(0,T.jsx)("p",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:E.caption||"Document"}),(0,T.jsxs)("a",{href:E.fileUrl,download:!0,className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,T.jsx)(se.A,{className:"w-4 h-4"}),(0,T.jsx)("span",{children:"Download"})]})]}),E.caption&&(0,T.jsx)("div",{className:"mt-4 text-center",children:(0,T.jsx)("p",{className:"text-white text-lg",children:E.caption})})]})]})})]})},le=e=>{let{isOpen:t,onClose:a,event:r,isMyEvent:n=!1,onEdit:l=()=>{},onViewParticipants:i=()=>{},onInvite:d=()=>{},getParticipationStatus:c=()=>null,getMyInvitationStatus:o=()=>null,onRsvp:m=()=>{},onCancelRsvp:g=()=>{},onAcceptInvitation:u=()=>{},onDeclineInvitation:h=()=>{},formatDate:p=e=>new Date(e).toLocaleDateString(),getEventTypeLabel:v=e=>e,participationStatus:y}=e;const[b,f]=(0,s.useState)("details");if(!t||!r)return null;const C=[{id:"details",label:"Details",icon:x.A},{id:"comments",label:"Comments",icon:Y},{id:"media",label:"Media",icon:W.A}];return(0,T.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,T.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,T.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,T.jsxs)("div",{className:"flex items-center justify-between",children:[(0,T.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Event Details"}),(0,T.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Close modal",children:(0,T.jsx)(I.A,{className:"h-6 w-6","aria-hidden":"true"})})]})}),(0,T.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,T.jsx)("div",{className:"flex space-x-1 px-6",children:C.map(e=>{const t=e.icon;return(0,T.jsxs)("button",{onClick:()=>f(e.id),className:"flex items-center space-x-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 ".concat(b===e.id?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:[(0,T.jsx)(t,{className:"h-4 w-4"}),(0,T.jsx)("span",{children:e.label})]},e.id)})})}),(0,T.jsx)("div",{className:"p-6",children:(()=>{switch(b){case"comments":return(0,T.jsx)($,{eventId:r.id,onCommentAdded:()=>{},onCommentUpdated:()=>{},onCommentDeleted:()=>{}});case"media":return(0,T.jsx)(ne,{eventId:r.id,onMediaAdded:()=>{},onMediaUpdated:()=>{},onMediaDeleted:()=>{}});default:return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:"mb-6",children:[(0,T.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,T.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/50 rounded-lg",children:(0,T.jsx)(x.A,{className:"h-5 w-5 text-blue-600","aria-hidden":"true"})}),(0,T.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:v(r.eventType)}),r.isOnline&&(0,T.jsx)("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-400 text-xs rounded-full",children:"Online"})]}),(0,T.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:r.title}),(0,T.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:r.description})]}),(0,T.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,T.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,T.jsx)(x.A,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}),(0,T.jsxs)("div",{children:[(0,T.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date & Time"}),(0,T.jsxs)("p",{className:"text-gray-900 dark:text-white",children:[p(r.startDate)," - ",p(r.endDate)]})]})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,T.jsx)(k.A,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}),(0,T.jsxs)("div",{children:[(0,T.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Location"}),(0,T.jsx)("p",{className:"text-gray-900 dark:text-white",children:r.isOnline?"Online Event":r.location})]})]}),r.isOnline&&r.meetingLink&&(0,T.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,T.jsx)(J.A,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}),(0,T.jsxs)("div",{children:[(0,T.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Meeting Link"}),(0,T.jsxs)("a",{href:r.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 flex items-center space-x-1",children:[(0,T.jsx)("span",{children:"Join Meeting"}),(0,T.jsx)(K,{className:"h-4 w-4","aria-hidden":"true"})]})]})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,T.jsx)(w.A,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}),(0,T.jsxs)("div",{children:[(0,T.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Participants"}),(0,T.jsxs)("p",{className:"text-gray-900 dark:text-white",children:[r.currentParticipants,"/",r.maxParticipants]})]})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,T.jsx)(A.A,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}),(0,T.jsxs)("div",{children:[(0,T.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Organizer"}),(0,T.jsx)("p",{className:"text-gray-900 dark:text-white",children:r.organizerName})]})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,T.jsx)(Z.A,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}),(0,T.jsxs)("div",{children:[(0,T.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Contact"}),(0,T.jsx)("p",{className:"text-gray-900 dark:text-white",children:r.organizerEmail})]})]})]}),(0,T.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsxs)("button",{onClick:()=>i(r.id),className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center space-x-1",children:[(0,T.jsx)(w.A,{className:"h-3 w-3","aria-hidden":"true"}),(0,T.jsx)("span",{children:"Participants"})]}),n&&(0,T.jsxs)("button",{onClick:d,className:"px-3 py-1 text-sm text-blue-600 dark:text-blue-400 border border-blue-300 dark:border-blue-600 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors flex items-center space-x-1",children:[(0,T.jsx)(_.A,{className:"h-3 w-3","aria-hidden":"true"}),(0,T.jsx)("span",{children:"Invite"})]})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsx)("button",{onClick:a,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Close"}),n&&(0,T.jsxs)("button",{onClick:()=>l(r),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[(0,T.jsx)(j.A,{className:"h-4 w-4","aria-hidden":"true"}),(0,T.jsx)("span",{children:"Edit Event"})]})]})]}),!n&&(0,T.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,T.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Your Response"}),(0,T.jsx)("div",{className:"flex items-center space-x-2",children:(()=>{const e=c(r.id),t=o(r.id);return t&&!t.isResponded?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("button",{onClick:()=>u(r.id),className:"px-3 py-1 text-sm bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center space-x-1",children:[(0,T.jsx)(L.A,{className:"h-3 w-3","aria-hidden":"true"}),(0,T.jsx)("span",{children:"Accept"})]}),(0,T.jsxs)("button",{onClick:()=>h(r.id),className:"px-3 py-1 text-sm bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center space-x-1",children:[(0,T.jsx)(I.A,{className:"h-3 w-3","aria-hidden":"true"}),(0,T.jsx)("span",{children:"Decline"})]})]}):e?(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Status: ",(0,T.jsx)("span",{className:"font-medium",children:e})]}),(0,T.jsx)("button",{onClick:()=>g(r.id),className:"px-3 py-1 text-sm bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Cancel RSVP"})]}):(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsxs)("button",{onClick:()=>m(r.id,y.CONFIRMED),className:"px-3 py-1 text-sm bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center space-x-1",children:[(0,T.jsx)(L.A,{className:"h-3 w-3","aria-hidden":"true"}),(0,T.jsx)("span",{children:"Going"})]}),(0,T.jsxs)("button",{onClick:()=>m(r.id,y.MAYBE),className:"px-3 py-1 text-sm bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors flex items-center space-x-1",children:[(0,T.jsx)(N.A,{className:"h-3 w-3","aria-hidden":"true"}),(0,T.jsx)("span",{children:"Maybe"})]}),(0,T.jsxs)("button",{onClick:()=>m(r.id,y.DECLINED),className:"px-3 py-1 text-sm bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center space-x-1",children:[(0,T.jsx)(I.A,{className:"h-3 w-3","aria-hidden":"true"}),(0,T.jsx)("span",{children:"Not Going"})]})]})})()})]})]})}})()})]})})},ie=e=>{let{isOpen:t,onClose:a,onSubmit:s,formData:r,setFormData:n,loading:l}=e;return t?(0,T.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,T.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[(0,T.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,T.jsxs)("div",{className:"flex items-center justify-between",children:[(0,T.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Invite People"}),(0,T.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Close modal",children:(0,T.jsx)(I.A,{className:"h-6 w-6","aria-hidden":"true"})})]})}),(0,T.jsxs)("form",{onSubmit:s,className:"p-6 space-y-4",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"usernames",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Usernames (comma-separated)"}),(0,T.jsx)("input",{id:"usernames",type:"text",required:!0,value:r.usernames,onChange:e=>n((0,u.A)((0,u.A)({},r),{},{usernames:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"username1, username2, username3"})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"personal-message",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Personal Message (optional)"}),(0,T.jsx)("textarea",{id:"personal-message",value:r.personalMessage,onChange:e=>n((0,u.A)((0,u.A)({},r),{},{personalMessage:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Add a personal message..."})]}),(0,T.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,T.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,T.jsxs)("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[l?(0,T.jsx)(i.A,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):(0,T.jsx)(X.A,{className:"h-4 w-4","aria-hidden":"true"}),(0,T.jsx)("span",{children:"Send Invitations"})]})]})]})]})}):null},de=e=>{let{isOpen:t,onClose:a,loading:s}=e;return t?(0,T.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,T.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,T.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,T.jsxs)("div",{className:"flex items-center justify-between",children:[(0,T.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Event Participants"}),(0,T.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Close modal",children:(0,T.jsx)(I.A,{className:"h-6 w-6","aria-hidden":"true"})})]})}),(0,T.jsx)("div",{className:"p-6",children:s?(0,T.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,T.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,T.jsxs)("div",{className:"text-center py-8",children:[(0,T.jsx)(w.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4","aria-hidden":"true"}),(0,T.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No participants found"})]})})]})}):null},ce=e=>{let{isOpen:t,onClose:a,onSubmit:s,formData:r,setFormData:n,loading:l,eventTypeOptions:d=[]}=e;if(!t)return null;const c=(e,t)=>{n(a=>(0,u.A)((0,u.A)({},a),{},{[e]:t}))};return(0,T.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,T.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,T.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,T.jsxs)("div",{className:"flex items-center justify-between",children:[(0,T.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Advanced Event Search"}),(0,T.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Close modal",children:(0,T.jsx)(I.A,{className:"h-6 w-6","aria-hidden":"true"})})]})}),(0,T.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(e)},className:"p-6 space-y-4",children:[(0,T.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"search-location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),(0,T.jsx)("input",{id:"search-location",type:"text",value:r.location,onChange:e=>c("location",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Search by location"})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"search-event-type",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Event Type"}),(0,T.jsxs)("select",{id:"search-event-type",value:r.eventType,onChange:e=>c("eventType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,T.jsx)("option",{value:"",children:"All Types"}),d.map(e=>(0,T.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"search-start-date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date"}),(0,T.jsx)("input",{id:"search-start-date",type:"date",value:r.startDate,onChange:e=>c("startDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"search-end-date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Date"}),(0,T.jsx)("input",{id:"search-end-date",type:"date",value:r.endDate,onChange:e=>c("endDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"search-online-status",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Online Status"}),(0,T.jsxs)("select",{id:"search-online-status",value:r.isOnline,onChange:e=>c("isOnline",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,T.jsx)("option",{value:"",children:"All Events"}),(0,T.jsx)("option",{value:"true",children:"Online Only"}),(0,T.jsx)("option",{value:"false",children:"In-Person Only"})]})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"search-organizer",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Organizer Name"}),(0,T.jsx)("input",{id:"search-organizer",type:"text",value:r.organizerName,onChange:e=>c("organizerName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Search by organizer"})]})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"search-title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title"}),(0,T.jsx)("input",{id:"search-title",type:"text",value:r.title,onChange:e=>c("title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Search in title"})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"search-description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,T.jsx)("input",{id:"search-description",type:"text",value:r.description,onChange:e=>c("description",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Search in description"})]}),(0,T.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,T.jsx)("button",{type:"button",onClick:()=>{n({location:"",eventType:"",startDate:"",endDate:"",isOnline:"",organizerName:"",title:"",description:""})},className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Clear Form"}),(0,T.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,T.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,T.jsxs)("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[l?(0,T.jsx)(i.A,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):(0,T.jsx)(B.A,{className:"h-4 w-4","aria-hidden":"true"}),(0,T.jsx)("span",{children:"Search Events"})]})]})]})]})]})})};var oe=a(8438),xe=a(225);const me=e=>{let{events:t,loading:a,error:s,pagination:r,onLoadMore:n,onLoadPrevious:l,getEventTypeLabel:d,formatDate:c,onViewEvent:o,onEditEvent:m,onDeleteEvent:g,onRsvp:u,onUpdateRsvp:h,rsvpLoading:p=!1,getParticipationStatus:v}=e;return a?(0,T.jsx)(O.A,{className:"p-8",children:(0,T.jsxs)("div",{className:"flex items-center justify-center",children:[(0,T.jsx)(i.A,{className:"h-6 w-6 animate-spin text-primary-600"}),(0,T.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading upcoming events..."})]})}):s?(0,T.jsx)(O.A,{className:"p-6 border-error-200 dark:border-error-700",children:(0,T.jsx)("div",{className:"text-center",children:(0,T.jsx)("p",{className:"text-error-700 dark:text-error-300",children:s})})}):t&&0!==t.length?(0,T.jsxs)("div",{className:"space-y-6",children:[(0,T.jsxs)("div",{className:"flex items-center justify-between",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Upcoming Events"}),(0,T.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Events happening in the next 30 days"})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsx)(x.A,{className:"h-5 w-5 text-primary-600"}),(0,T.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(null===r||void 0===r?void 0:r.totalElements)||t.length," upcoming"]})]})]}),(0,T.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>{const t=v?v(e.id):null;return(0,T.jsx)(q,{event:e,isMyEvent:!1,onView:o,onEdit:m,onDelete:g,getEventTypeLabel:d,formatDate:c,onRsvp:u,onUpdateRsvp:h,rsvpLoading:p,currentParticipationStatus:t,showRsvpButtons:!0},e.id)})}),r&&r.totalPages>1&&(0,T.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,T.jsx)(F.A,{onClick:l,disabled:r.first,variant:"outline",size:"sm",icon:(0,T.jsx)(oe.A,{className:"h-4 w-4"}),children:"Previous"}),(0,T.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Page ",r.page+1," of ",r.totalPages,r.totalElements&&(0,T.jsxs)("span",{className:"ml-2",children:["(",r.totalElements," total)"]})]}),(0,T.jsx)(F.A,{onClick:n,disabled:r.last,variant:"outline",size:"sm",icon:(0,T.jsx)(xe.A,{className:"h-4 w-4"}),children:"Next"})]}),r&&(0,T.jsxs)("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Showing ",t.length," of ",r.totalElements||t.length," upcoming events"]})]}):(0,T.jsx)(O.A,{className:"p-8",children:(0,T.jsxs)("div",{className:"text-center",children:[(0,T.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,T.jsx)(x.A,{className:"h-8 w-8 text-gray-400"})}),(0,T.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No upcoming events"}),(0,T.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Check back later for new events or create your own event."})]})})},ge=e=>{let{events:t,loading:a,error:s,getEventTypeLabel:r,formatDate:n,onViewEvent:l,onEditEvent:d,onDeleteEvent:c,onRsvp:o,onUpdateRsvp:x,rsvpLoading:m=!1,getParticipationStatus:g}=e;return a?(0,T.jsx)(O.A,{className:"p-8",children:(0,T.jsxs)("div",{className:"flex items-center justify-center",children:[(0,T.jsx)(i.A,{className:"h-6 w-6 animate-spin text-primary-600"}),(0,T.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading trending events..."})]})}):s?(0,T.jsx)(O.A,{className:"p-6 border-error-200 dark:border-error-700",children:(0,T.jsx)("div",{className:"text-center",children:(0,T.jsx)("p",{className:"text-error-700 dark:text-error-300",children:s})})}):t&&0!==t.length?(0,T.jsxs)("div",{className:"space-y-6",children:[(0,T.jsxs)("div",{className:"flex items-center justify-between",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Trending Events"}),(0,T.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Most popular events based on engagement"})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsx)(E.A,{className:"h-5 w-5 text-primary-600"}),(0,T.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.length," trending"]})]})]}),(0,T.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e,t)=>{const a=g?g(e.id):null;return(0,T.jsxs)("div",{className:"relative",children:[t<3&&(0,T.jsx)("div",{className:"absolute -top-2 -right-2 z-10",children:(0,T.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white text-xs font-bold px-2 py-1 rounded-full shadow-lg",children:["#",t+1," Trending"]})}),e.trendingScore&&(0,T.jsx)("div",{className:"absolute top-2 left-2 z-10",children:(0,T.jsxs)("div",{className:"bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full shadow-lg",children:[Math.round(100*e.trendingScore),"%"]})}),(0,T.jsx)(q,{event:e,isMyEvent:!1,onView:l,onEdit:d,onDelete:c,getEventTypeLabel:r,formatDate:n,onRsvp:o,onUpdateRsvp:x,rsvpLoading:m,currentParticipationStatus:a,showRsvpButtons:!0})]},e.id)})})]}):(0,T.jsx)(O.A,{className:"p-8",children:(0,T.jsxs)("div",{className:"text-center",children:[(0,T.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,T.jsx)(E.A,{className:"h-8 w-8 text-gray-400"})}),(0,T.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No trending events"}),(0,T.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Popular events will appear here based on engagement."})]})})};var ue=a(2191),he=a(3016);const pe=e=>{let{searchResults:t,loading:a,error:r,pagination:n,onSearch:l,onClear:d,onLoadMore:c,onLoadPrevious:o,getEventTypeLabel:x,formatDate:m,onViewEvent:g,onEditEvent:h,onDeleteEvent:v,onRsvp:y,onUpdateRsvp:b,rsvpLoading:j=!1,getParticipationStatus:f}=e;const[N,k]=(0,s.useState)({title:"",category:"",location:"",startDate:"",endDate:""}),[w,A]=(0,s.useState)(!1),C=(e,t)=>{k(a=>(0,u.A)((0,u.A)({},a),{},{[e]:t}))},E=[{value:"",label:"All Categories"},{value:p.ML.SOCIAL,label:"Social"},{value:p.ML.EDUCATIONAL,label:"Educational"},{value:p.ML.NETWORKING,label:"Networking"},{value:p.ML.PROFESSIONAL,label:"Professional"}];return(0,T.jsxs)("div",{className:"space-y-6",children:[(0,T.jsx)(O.A,{className:"p-6",children:(0,T.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l(N)},className:"space-y-4",children:[(0,T.jsxs)("div",{className:"flex space-x-4",children:[(0,T.jsx)("div",{className:"flex-1",children:(0,T.jsx)(he.A,{type:"text",placeholder:"Search events by title, description, or location...",value:N.title,onChange:e=>C("title",e.target.value),icon:(0,T.jsx)(B.A,{className:"h-4 w-4"})})}),(0,T.jsx)(F.A,{type:"button",variant:"outline",onClick:()=>A(!w),icon:(0,T.jsx)(ue.A,{className:"h-4 w-4"}),children:"Filters"}),(0,T.jsx)(F.A,{type:"submit",variant:"primary",disabled:a,children:a?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(i.A,{className:"h-4 w-4 animate-spin"}),"Searching..."]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(B.A,{className:"h-4 w-4"}),"Search"]})})]}),w&&(0,T.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),(0,T.jsx)("select",{value:N.category,onChange:e=>C("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white",children:E.map(e=>(0,T.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),(0,T.jsx)(he.A,{type:"text",placeholder:"Enter location...",value:N.location,onChange:e=>C("location",e.target.value)})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date"}),(0,T.jsx)(he.A,{type:"date",value:N.startDate,onChange:e=>C("startDate",e.target.value)})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),(0,T.jsx)(he.A,{type:"date",value:N.endDate,onChange:e=>C("endDate",e.target.value)})]})]}),(N.title||N.category||N.location||N.startDate||N.endDate)&&(0,T.jsx)("div",{className:"flex justify-end",children:(0,T.jsx)(F.A,{type:"button",variant:"outline",onClick:()=>{k({title:"",category:"",location:"",startDate:"",endDate:""}),d()},icon:(0,T.jsx)(I.A,{className:"h-4 w-4"}),children:"Clear Filters"})})]})}),a&&(0,T.jsx)(O.A,{className:"p-8",children:(0,T.jsxs)("div",{className:"flex items-center justify-center",children:[(0,T.jsx)(i.A,{className:"h-6 w-6 animate-spin text-primary-600"}),(0,T.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Searching events..."})]})}),r&&(0,T.jsx)(O.A,{className:"p-6 border-error-200 dark:border-error-700",children:(0,T.jsx)("div",{className:"text-center",children:(0,T.jsx)("p",{className:"text-error-700 dark:text-error-300",children:r})})}),!a&&!r&&t&&(0,T.jsxs)("div",{className:"space-y-6",children:[(0,T.jsxs)("div",{className:"flex items-center justify-between",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Search Results"}),n&&n.totalElements>0&&(0,T.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Found ",n.totalElements," event",1!==n.totalElements?"s":""]})]}),n&&n.totalElements>0&&(0,T.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",n.page*n.size+1," - ",Math.min((n.page+1)*n.size,n.totalElements)," of ",n.totalElements," events"]})]}),t.length>0?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>{const t=f?f(e.id):null;return(0,T.jsx)(q,{event:e,isMyEvent:!1,onView:g,onEdit:h,onDelete:v,getEventTypeLabel:x,formatDate:m,onRsvp:y,onUpdateRsvp:b,rsvpLoading:j,currentParticipationStatus:t,showRsvpButtons:!0},e.id)})}),n&&n.totalPages>1&&(0,T.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,T.jsx)(F.A,{onClick:o,disabled:n.first,variant:"outline",size:"sm",icon:(0,T.jsx)(oe.A,{className:"h-4 w-4"}),children:"Previous"}),(0,T.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Page ",n.page+1," of ",n.totalPages]}),(0,T.jsx)(F.A,{onClick:c,disabled:n.last,variant:"outline",size:"sm",icon:(0,T.jsx)(xe.A,{className:"h-4 w-4"}),children:"Next"})]})]}):(0,T.jsx)(O.A,{className:"p-8",children:(0,T.jsxs)("div",{className:"text-center",children:[(0,T.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,T.jsx)(B.A,{className:"h-8 w-8 text-gray-400"})}),(0,T.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No events found"}),(0,T.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search criteria or browse all events."})]})})]})]})},ve=e=>{let{participations:t,loading:a,error:r,pagination:n,onLoadMore:l,onLoadPrevious:d,onRsvp:c,onUpdateRsvp:o,rsvpLoading:m,formatDate:g,onViewEvent:u}=e;const[h,p]=(0,s.useState)("all");if(a)return(0,T.jsx)(O.A,{className:"p-8",children:(0,T.jsxs)("div",{className:"flex items-center justify-center",children:[(0,T.jsx)(i.A,{className:"h-6 w-6 animate-spin text-primary-600"}),(0,T.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading your participations..."})]})});if(r)return(0,T.jsx)(O.A,{className:"p-6 border-error-200 dark:border-error-700",children:(0,T.jsx)("div",{className:"text-center",children:(0,T.jsx)("p",{className:"text-error-700 dark:text-error-300",children:r})})});const v="all"===h?t:t.filter(e=>e.status===h),y=e=>{switch(e){case"CONFIRMED":return"success";case"MAYBE":return"warning";case"DECLINED":return"error";default:return"primary"}},b=e=>{switch(e){case"CONFIRMED":return(0,T.jsx)(L.A,{className:"h-4 w-4"});case"MAYBE":return(0,T.jsx)(N.A,{className:"h-4 w-4"});case"DECLINED":return(0,T.jsx)(I.A,{className:"h-4 w-4"});default:return null}},j=e=>{switch(e){case"CONFIRMED":return"Confirmed";case"MAYBE":return"Maybe";case"DECLINED":return"Declined";default:return"Unknown"}};return t&&0!==t.length?(0,T.jsxs)("div",{className:"space-y-6",children:[(0,T.jsxs)("div",{className:"flex items-center justify-between",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"My Participations"}),(0,T.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Events you've RSVP'd to"})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filter:"}),(0,T.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[(0,T.jsx)("option",{value:"all",children:"All Status"}),(0,T.jsx)("option",{value:"CONFIRMED",children:"Confirmed"}),(0,T.jsx)("option",{value:"MAYBE",children:"Maybe"}),(0,T.jsx)("option",{value:"DECLINED",children:"Declined"})]})]})]}),(0,T.jsx)("div",{className:"space-y-4",children:v.map(e=>(0,T.jsx)(O.A,{className:"p-6",children:(0,T.jsxs)("div",{className:"flex items-start justify-between",children:[(0,T.jsxs)("div",{className:"flex-1",children:[(0,T.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,T.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.eventTitle}),(0,T.jsxs)("div",{className:"inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium bg-".concat(y(e.status),"-100 dark:bg-").concat(y(e.status),"-900/20 text-").concat(y(e.status),"-700 dark:text-").concat(y(e.status),"-300"),children:[b(e.status),(0,T.jsx)("span",{children:j(e.status)})]})]}),(0,T.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,T.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,T.jsx)(x.A,{className:"h-4 w-4"}),(0,T.jsx)("span",{children:g(e.eventStartDate)})]}),e.eventLocation&&(0,T.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,T.jsx)(k.A,{className:"h-4 w-4"}),(0,T.jsx)("span",{children:e.eventLocation})]})]}),e.message&&(0,T.jsx)("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:(0,T.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:['"',e.message,'"']})}),(0,T.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,T.jsxs)("span",{children:["Joined: ",g(e.joinedAt)]}),e.updatedAt!==e.joinedAt&&(0,T.jsxs)("span",{children:["Updated: ",g(e.updatedAt)]})]})]}),(0,T.jsxs)("div",{className:"ml-6 flex flex-col space-y-3",children:[(0,T.jsx)(F.A,{onClick:()=>u(e.eventId),variant:"outline",size:"sm",children:"View Event"}),(0,T.jsx)(z,{eventId:e.eventId,currentStatus:e.status,onRsvp:c,onUpdateRsvp:o,loading:m,showMessageInput:!0})]})]})},e.id))}),n&&n.totalPages>1&&(0,T.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,T.jsx)(F.A,{onClick:d,disabled:n.first,variant:"outline",size:"sm",icon:(0,T.jsx)(oe.A,{className:"h-4 w-4"}),children:"Previous"}),(0,T.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Page ",n.page+1," of ",n.totalPages]}),(0,T.jsx)(F.A,{onClick:l,disabled:n.last,variant:"outline",size:"sm",icon:(0,T.jsx)(xe.A,{className:"h-4 w-4"}),children:"Next"})]}),t.length>0&&(0,T.jsx)(O.A,{className:"mt-8 p-6",children:(0,T.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,T.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,T.jsx)("div",{className:"w-10 h-10 bg-success-100 dark:bg-success-900/20 rounded-lg flex items-center justify-center",children:(0,T.jsx)(L.A,{className:"h-5 w-5 text-success-600 dark:text-success-400"})}),(0,T.jsxs)("div",{children:[(0,T.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Confirmed"}),(0,T.jsx)("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t.filter(e=>"CONFIRMED"===e.status).length})]})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,T.jsx)("div",{className:"w-10 h-10 bg-warning-100 dark:bg-warning-900/20 rounded-lg flex items-center justify-center",children:(0,T.jsx)(N.A,{className:"h-5 w-5 text-warning-600 dark:text-warning-400"})}),(0,T.jsxs)("div",{children:[(0,T.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Maybe"}),(0,T.jsx)("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t.filter(e=>"MAYBE"===e.status).length})]})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,T.jsx)("div",{className:"w-10 h-10 bg-error-100 dark:bg-error-900/20 rounded-lg flex items-center justify-center",children:(0,T.jsx)(I.A,{className:"h-5 w-5 text-error-600 dark:text-error-400"})}),(0,T.jsxs)("div",{children:[(0,T.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Declined"}),(0,T.jsx)("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t.filter(e=>"DECLINED"===e.status).length})]})]})]})})]}):(0,T.jsx)(O.A,{className:"p-8",children:(0,T.jsxs)("div",{className:"text-center",children:[(0,T.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,T.jsx)(x.A,{className:"h-8 w-8 text-gray-400"})}),(0,T.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No participations yet"}),(0,T.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Start joining events to see your participations here."})]})})};var ye=a(9694);const be=[{value:"all",label:"All Categories"},{value:"NETWORKING",label:"Networking"},{value:"WORKSHOP",label:"Workshop"},{value:"CONFERENCE",label:"Conference"},{value:"SOCIAL",label:"Social"},{value:"CAREER",label:"Career"},{value:"MENTORSHIP",label:"Mentorship"}],je=[{value:"all",label:"All Types"},{value:"NETWORKING",label:"Networking"},{value:"WORKSHOP",label:"Workshop"},{value:"CONFERENCE",label:"Conference"},{value:"SOCIAL",label:"Social"},{value:"CAREER",label:"Career"},{value:"MENTORSHIP",label:"Mentorship"}],fe={title:"",description:"",location:"",startDate:"",endDate:"",maxParticipants:"",eventType:"NETWORKING",isOnline:!1,meetingLink:"",privacy:"PUBLIC",inviteMessage:""},Ne=()=>{const e=(0,r.Zp)(),{user:t,loading:a}=(0,g.h)(),[d,j]=(0,s.useState)("grid"),{events:f,myEvents:N,loading:k,error:w,activeTab:A,pagination:C,loadEvents:E,refreshEvents:S,handleTabChange:D,getCurrentEvents:P}=(()=>{const{user:e}=(0,g.h)(),t=(0,s.useCallback)(e=>({TECHNICAL:p.ML.EDUCATIONAL,WORKSHOP:p.ML.EDUCATIONAL,NETWORKING:p.ML.NETWORKING,SPORTS:p.ML.SOCIAL,CAREER:p.ML.PROFESSIONAL,SOCIAL:p.ML.SOCIAL,CONFERENCE:p.ML.PROFESSIONAL,MENTORSHIP:p.ML.PROFESSIONAL}[e]||p.ML.SOCIAL),[]),[a,r]=(0,s.useState)([]),[n,l]=(0,s.useState)([]),[i,d]=(0,s.useState)(!1),[c,o]=(0,s.useState)(null),[x,m]=(0,s.useState)("all"),[v,y]=(0,s.useState)({page:0,size:10,totalElements:0,totalPages:0,first:!0,last:!1}),b=(0,s.useCallback)(async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(null===e||void 0===e||!e.token)return r([]),l([]),void d(!1);d(!0),o(null);try{let e;switch(x){case"my-events":e=await h.A.getMyEvents();break;case"my-active-events":e=await h.A.getMyActiveEvents();break;default:e=await h.A.getAllActiveEvents(a,s,"startDate,asc")}if(e&&(e.success||"200"===e.code)){const a=e.data;if("all"===x)if(a&&a.content&&Array.isArray(a.content))r(a.content),y({page:a.number||0,size:a.size||10,totalElements:a.totalElements||0,totalPages:a.totalPages||0,first:!1!==a.first,last:!1!==a.last});else if(Array.isArray(a)){const e=a.map(e=>(0,u.A)((0,u.A)({},e),{},{category:e.eventType?t(e.eventType):e.category}));r(e),y({page:0,size:e.length,totalElements:e.length,totalPages:1,first:!0,last:!0})}else r([]),y({page:0,size:10,totalElements:0,totalPages:0,first:!0,last:!0});else{const e=(Array.isArray(a)?a:[]).map(e=>(0,u.A)((0,u.A)({},e),{},{category:e.eventType?t(e.eventType):e.category}));"my-events"===x||"my-active-events"===x?l(e):r(e)}}else if(e&&Array.isArray(e)){const a=e.map(e=>(0,u.A)((0,u.A)({},e),{},{category:e.eventType?t(e.eventType):e.category}));"all"===x?(r(a),y({page:0,size:a.length,totalElements:a.length,totalPages:1,first:!0,last:!0})):"my-events"===x||"my-active-events"===x?l(a):r(a)}else"all"===x?(r([]),y({page:0,size:10,totalElements:0,totalPages:0,first:!0,last:!0})):"my-events"===x||"my-active-events"===x?l([]):r([])}catch(c){var n,i;const e=c.message||(null===(n=c.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Failed to load events";o(e)}finally{d(!1)}},[x,null===e||void 0===e?void 0:e.token,t]),j=(0,s.useCallback)(()=>{b(v.page,v.size)},[b,v.page,v.size]),f=(0,s.useCallback)(e=>{m(e),y({page:0,size:10,totalElements:0,totalPages:0,first:!0,last:!1})},[]),N=(0,s.useCallback)(()=>{if(!v.last&&"all"===x){const e=v.page+1;b(e,v.size)}},[v,x,b]),k=(0,s.useCallback)(()=>{if(!v.first&&"all"===x){const e=v.page-1;b(e,v.size)}},[v,x,b]),w=(0,s.useCallback)(()=>"my-events"===x||"my-active-events"===x?n:a,[x,n,a]),A=(0,s.useCallback)(async t=>{if(null===e||void 0===e||!e.token)throw new Error("Authentication required");try{const e=await h.A.getEventById(t);if(e&&e.success)return e.data;throw new Error((null===e||void 0===e?void 0:e.message)||"Failed to fetch event")}catch(a){throw a}},[null===e||void 0===e?void 0:e.token]);return(0,s.useEffect)(()=>{b()},[b]),{events:a,myEvents:n,loading:i,error:c,activeTab:x,pagination:v,loadEvents:b,refreshEvents:j,handleTabChange:f,loadNextPage:N,loadPreviousPage:k,getCurrentEvents:w,getEventById:A,currentEvents:w()}})(),{loading:M,error:L,handleCreateEvent:I,handleDeleteEvent:R,handleRsvp:F,handleCancelRsvp:O,clearError:z}=(0,v.B)(S),{searchQuery:U,filterType:B,loading:V,error:Y,handleSearchQueryChange:W,handleFilterTypeChange:J,searchEvents:K,clearSearch:Z,getFilteredEvents:_}=(()=>{const[e,t]=(0,s.useState)(""),[a,r]=(0,s.useState)("all"),[n,l]=(0,s.useState)(!1),[i,d]=(0,s.useState)(null),[c,o]=(0,s.useState)([]),x=(0,s.useCallback)(e=>{t(e)},[]),m=(0,s.useCallback)(e=>{r(e)},[]),g=(0,s.useCallback)(t=>{if(!e.trim())return t;const a=e.toLowerCase();return t.filter(e=>e.title&&e.title.toLowerCase().includes(a)||e.description&&e.description.toLowerCase().includes(a)||e.location&&e.location.toLowerCase().includes(a))},[e]),u=(0,s.useCallback)(e=>"all"===a?e:e.filter(e=>e.category===a||e.eventType===a),[a]),p=(0,s.useCallback)(e=>{let t=g(e);return u(t)},[g,u]),v=(0,s.useCallback)(async e=>{l(!0),d(null);try{const t=Object.fromEntries(Object.entries(e).filter(e=>{let[t,a]=e;return""!==a&&null!==a&&void 0!==a})),a=await h.A.searchEventsGet(t);if("200"!==a.code&&200!==a.code||!a.data)throw new Error(a.message||"Failed to search events");return o(a.data),{success:!0,data:a.data}}catch(s){var t,a;return d((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||s.message||"Failed to search events"),{success:!1,error:s.message}}finally{l(!1)}},[]),y=(0,s.useCallback)(async e=>{l(!0),d(null);try{const t=Object.fromEntries(Object.entries(e).filter(e=>{let[t,a]=e;return""!==a&&null!==a&&void 0!==a})),a=await h.A.searchEventsPost(t);if("200"!==a.code&&200!==a.code||!a.data)throw new Error(a.message||"Failed to search events");return o(a.data),{success:!0,data:a.data}}catch(s){var t,a;return d((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||s.message||"Failed to search events"),{success:!1,error:s.message}}finally{l(!1)}},[]),b=(0,s.useCallback)(async function(e){return"GET"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST")?await v(e):await y(e)},[v,y]),j=(0,s.useCallback)(()=>{t(""),r("all"),d(null),o([])},[]);return{searchQuery:e,filterType:a,loading:n,error:i,searchResults:c,handleSearchQueryChange:x,handleFilterTypeChange:m,searchEvents:b,searchEventsGet:v,searchEventsPost:y,clearSearch:j,filterBySearch:g,filterByType:u,getFilteredEvents:p}})(),{upcomingEvents:Q,upcomingLoading:X,upcomingError:$,upcomingPagination:ee,loadUpcomingEvents:te,loadNextUpcomingPage:ae,loadPreviousUpcomingPage:se,trendingEvents:re,trendingLoading:ne,trendingError:oe,loadTrendingEvents:xe,searchResults:ue,searchLoading:he,searchError:Ne,searchPagination:ke,searchEvents:we,clearSearch:Ae,loadNextSearchPage:Ce,loadPreviousSearchPage:Ee}=(0,y.U)(),{participations:Se,participationsLoading:De,participationsError:Pe,participationsPagination:Me,loadMyParticipations:Le,loadNextParticipationsPage:Ie,loadPreviousParticipationsPage:Re,clearParticipationsError:Fe,rsvpLoading:Oe,rsvpError:Te,rsvpToEvent:ze,clearRsvpError:Ue,updateLoading:qe,updateError:Be,updateParticipation:Ve,clearUpdateError:He,joinEvent:Ge,maybeAttendEvent:Ye,cancelRsvp:We,getParticipationStatus:Je,getParticipation:Ke,isParticipating:Ze,isMaybeAttending:_e,hasDeclined:Qe}=(0,b.v)(),{myParticipations:Xe,myInvitations:$e,invitationCounts:et,loading:tt,error:at,sendInvitations:st,acceptInvitation:rt,declineInvitation:nt,getEventParticipants:lt,clearError:it,getMyParticipationStatus:dt,getMyInvitationStatus:ct}=(()=>{const{user:e}=(0,g.h)(),[t,a]=(0,s.useState)([]),[r,n]=(0,s.useState)([]),[l,i]=(0,s.useState)([]),[d,c]=(0,s.useState)([]),[o,x]=(0,s.useState)({totalCount:0,unreadCount:0,unrespondedCount:0,acceptedCount:0,declinedCount:0}),[m,u]=(0,s.useState)(!1),[p,v]=(0,s.useState)(null),y=(0,s.useCallback)(async()=>{if(null!==e&&void 0!==e&&e.token){u(!0),v(null);try{const[e,t,s,r,l]=await Promise.all([h.A.getMyParticipations(),h.A.getMyInvitations(),h.A.getInvitationCounts(),h.A.getUnreadInvitations(),h.A.getUnrespondedInvitations()]);e.data&&a(e.data),t.data&&n(t.data),s.data&&x(s.data),r.data&&i(r.data),l.data&&c(l.data)}catch(p){v("Failed to load user data")}finally{u(!1)}}},[null===e||void 0===e?void 0:e.token]),b=(0,s.useCallback)(async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";u(!0),v(null);try{const s=t.split(",").map(e=>e.trim()).filter(e=>e);if(0===s.length)throw new Error("Please enter at least one username");const r=await h.A.sendInvitations(e,s,a);if("200"===r.code||200===r.code)return{success:!0};throw new Error(r.message||"Failed to send invitations")}catch(n){var s,r;return v((null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message)||n.message||"Failed to send invitations"),{success:!1,error:n.message}}finally{u(!1)}},[]),j=(0,s.useCallback)(async e=>{u(!0),v(null);try{const t=await h.A.acceptInvitation(e);if("200"===t.code||200===t.code)return await y(),{success:!0};throw new Error(t.message||"Failed to accept invitation")}catch(s){var t,a;return v((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||s.message||"Failed to accept invitation"),{success:!1,error:s.message}}finally{u(!1)}},[y]),f=(0,s.useCallback)(async e=>{u(!0),v(null);try{const t=await h.A.declineInvitation(e);if("200"===t.code||200===t.code)return await y(),{success:!0};throw new Error(t.message||"Failed to decline invitation")}catch(s){var t,a;return v((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||s.message||"Failed to decline invitation"),{success:!1,error:s.message}}finally{u(!1)}},[y]),N=(0,s.useCallback)(async e=>{u(!0),v(null);try{const t=await h.A.markInvitationAsRead(e);if("200"===t.code||200===t.code)return await y(),{success:!0};throw new Error(t.message||"Failed to mark invitation as read")}catch(s){var t,a;return v((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||s.message||"Failed to mark invitation as read"),{success:!1,error:s.message}}finally{u(!1)}},[y]),k=(0,s.useCallback)(e=>{const a=t.find(t=>t.eventId===e);return a?a.status:null},[t]),w=(0,s.useCallback)(e=>{const t=r.find(t=>t.eventId===e);return t?{isInvited:!0,isRead:t.isRead,isResponded:t.isResponded}:null},[r]),A=(0,s.useCallback)(async e=>{u(!0),v(null);try{const t=await h.A.getEventParticipants(e);if("200"!==t.code&&200!==t.code||!t.data)throw new Error(t.message||"Failed to load participants");return{success:!0,data:t.data}}catch(s){var t,a;return v((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||s.message||"Failed to load participants"),{success:!1,error:s.message}}finally{u(!1)}},[]),C=(0,s.useCallback)(()=>{v(null)},[]);return(0,s.useEffect)(()=>{y()},[y]),{myParticipations:t,myInvitations:r,unreadInvitations:l,unrespondedInvitations:d,invitationCounts:o,loading:m,error:p,loadUserData:y,sendInvitations:b,acceptInvitation:j,declineInvitation:f,markInvitationAsRead:N,getEventParticipants:A,clearError:C,getMyParticipationStatus:k,getMyInvitationStatus:w,hasUnreadInvitations:o.unreadCount>0,hasUnrespondedInvitations:o.unrespondedCount>0,totalInvitations:o.totalCount}})(),[ot,xt]=(0,s.useState)(!1),[mt,gt]=(0,s.useState)(!1),[ut,ht]=(0,s.useState)(!1),[pt,vt]=(0,s.useState)(!1),[yt,bt]=(0,s.useState)(!1),[jt,ft]=(0,s.useState)(null),[Nt,kt]=(0,s.useState)(fe),[wt,At]=(0,s.useState)({usernames:"",personalMessage:""}),[Ct,Et]=(0,s.useState)({location:"",eventType:"",startDate:"",endDate:"",isOnline:"",organizerName:"",title:"",description:""}),St=k||M||V||tt,Dt=w||L||Y||at,[Pt]=(0,s.useState)([6,12,24,48]),Mt=((0,s.useCallback)(e=>{D(e),Z()},[D,Z]),(0,s.useCallback)(e=>{var t;kt({title:e.title||"",description:e.description||"",location:e.location||"",startDate:e.startDate?new Date(e.startDate).toISOString().slice(0,16):"",endDate:e.endDate?new Date(e.endDate).toISOString().slice(0,16):"",maxParticipants:(null===(t=e.maxParticipants)||void 0===t?void 0:t.toString())||"",eventType:e.eventType||e.category||"NETWORKING",isOnline:e.isOnline||!1,meetingLink:e.meetingLink||"",privacy:e.privacy||"PUBLIC",inviteMessage:e.inviteMessage||""}),ft(e),xt(!0)},[])),Lt=(0,s.useCallback)(async e=>{if(window.confirm("Are you sure you want to delete this event? This action cannot be undone.")){(await R(e)).success}},[R]),It=(0,s.useCallback)(async e=>{e.preventDefault();(await I(Nt)).success&&(xt(!1),kt(fe))},[Nt,I]),Rt=(0,s.useCallback)(async e=>{e.preventDefault();(await K(Ct)).success&&bt(!1)},[Ct,K]),Ft=(0,s.useCallback)(async e=>{(await lt(e)).success&&vt(!0)},[lt]),Ot=(0,s.useCallback)(e=>new Date(e).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),[]),Tt=(0,s.useCallback)(e=>{const t=be.find(t=>t.value===e);return t?t.label:e},[]),zt=(0,s.useCallback)(e=>{e>=0&&e<C.totalPages&&!St&&(E(e,C.size),window.scrollTo({top:0,behavior:"smooth"}))},[C,St,E]),Ut=(0,s.useCallback)(e=>{C&&e!==C.size&&!St&&(E(0,e),window.scrollTo({top:0,behavior:"smooth"}))},[null===C||void 0===C?void 0:C.size,St,E]),qt=()=>"all"!==A&&"my-events"!==A&&"my-active-events"!==A?null:C&&0!==C.totalElements?(0,T.jsx)("div",{className:"mt-8",children:(0,T.jsx)(ye.dK,{currentPage:C.page||0,totalPages:C.totalPages||0,totalElements:C.totalElements||0,pageSize:C.size||10,onPageChange:zt,onPageSizeChange:Ut,pageSizeOptions:Pt,loading:St,showPageSizeSelector:!0,showInfo:!1,className:""})}):null;s.useEffect(()=>{null!==t&&void 0!==t&&t.token&&(te(),xe())},[null===t||void 0===t?void 0:t.token,te,xe]),s.useEffect(()=>{null!==t&&void 0!==t&&t.token&&Le()},[null===t||void 0===t?void 0:t.token,Le]);const Bt=_(P())||[];return(0,T.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,T.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,T.jsxs)("div",{className:"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Events"}),(0,T.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Discover and connect with alumni events"})]}),(0,T.jsxs)(ye.$n,{onClick:()=>e("/events/create"),disabled:!(null!==t&&void 0!==t&&t.token),className:"flex items-center space-x-2 self-start",children:[(0,T.jsx)(n.A,{className:"h-4 w-4"}),(0,T.jsx)("span",{children:null!==t&&void 0!==t&&t.token?"Create Event":"Sign in to Create"})]})]}),Dt&&(0,T.jsx)(ye.Zp,{className:"mb-6 border-error-200 dark:border-error-700",children:(0,T.jsx)("div",{className:"p-4",children:(0,T.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,T.jsx)(l.A,{className:"h-5 w-5 text-error-500 flex-shrink-0"}),(0,T.jsx)("p",{className:"text-error-700 dark:text-error-300",children:Dt})]})})}),!Dt&&!St&&!a&&!(null!==t&&void 0!==t&&t.token)&&(0,T.jsx)(ye.Zp,{className:"mb-6 border-warning-200 dark:border-warning-700",children:(0,T.jsx)("div",{className:"p-6",children:(0,T.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,T.jsx)("div",{className:"p-3 bg-warning-100 dark:bg-warning-900/50 rounded-lg",children:(0,T.jsx)(l.A,{className:"h-6 w-6 text-warning-600 dark:text-warning-400"})}),(0,T.jsxs)("div",{children:[(0,T.jsx)("h3",{className:"text-lg font-semibold text-warning-800 dark:text-warning-200",children:"Sign in to view events"}),(0,T.jsx)("p",{className:"text-warning-700 dark:text-warning-300 mt-1",children:"Please sign in to your account to access the events feature."})]})]})})}),(0,T.jsx)(ye.Zp,{className:"mb-6",children:(0,T.jsx)("div",{className:"p-6",children:(0,T.jsx)(H,{searchQuery:U,onSearchChange:W,filterType:B,onFilterChange:J,onAdvancedSearch:()=>bt(!0),eventTypeOptions:je})})}),(0,T.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,T.jsx)("div",{className:"flex items-center space-x-2",children:St?(0,T.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,T.jsx)(i.A,{className:"h-4 w-4 animate-spin"}),(0,T.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Loading events..."})]}):(0,T.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2",children:[(0,T.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:["Found ",(null===C||void 0===C?void 0:C.totalElements)||(null===Bt||void 0===Bt?void 0:Bt.length)||0," event",1!==((null===C||void 0===C?void 0:C.totalElements)||(null===Bt||void 0===Bt?void 0:Bt.length)||0)?"s":"",U&&' for "'.concat(U,'"')]}),(null===C||void 0===C?void 0:C.totalElements)>0&&("all"===A||"my-events"===A||"my-active-events"===A)&&(0,T.jsxs)("p",{className:"text-gray-500 text-sm",children:["(Page ",(C.page||0)+1," of ",C.totalPages||0,")"]})]})}),Bt&&Bt.length>0&&!St&&(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"View:"}),(0,T.jsxs)("div",{className:"flex items-center space-x-1 bg-white dark:bg-gray-800 rounded-lg p-1 shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,T.jsx)("button",{onClick:()=>j("grid"),className:"p-2 rounded-md transition-colors ".concat("grid"===d?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),title:"Grid view",children:(0,T.jsx)(c,{className:"h-4 w-4"})}),(0,T.jsx)("button",{onClick:()=>j("list"),className:"p-2 rounded-md transition-colors ".concat("list"===d?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),title:"List view",children:(0,T.jsx)(o,{className:"h-4 w-4"})})]})]}),(null===C||void 0===C?void 0:C.totalElements)>0&&!St&&("all"===A||"my-events"===A||"my-active-events"===A)&&(0,T.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,T.jsxs)("span",{children:["Showing ",(C.page||0)*(C.size||10)+1," to"," ",Math.min(((C.page||0)+1)*(C.size||10),C.totalElements)," of"," ",C.totalElements," results"]}),(0,T.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,T.jsxs)("span",{className:"text-gray-400",children:[C.size||10," per page"]})]})]}),"all"===A||"my-events"===A||"my-active-events"===A?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:"relative",children:(0,T.jsx)("div",{className:"grid"===d?"grid md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:Bt&&Bt.map(e=>{const t="my-events"===A,a=Je(e.id);return(0,T.jsx)(q,{event:e,isMyEvent:t,onEdit:Mt,onDelete:Lt,getEventTypeLabel:Tt,formatDate:Ot,onRsvp:ze,onUpdateRsvp:Ve,rsvpLoading:Oe,currentParticipationStatus:a,showRsvpButtons:!0,viewMode:d},e.id)})})}),St&&Bt&&0===Bt.length&&(0,T.jsxs)("div",{className:"text-center py-12",children:[(0,T.jsx)(i.A,{className:"h-8 w-8 animate-spin text-primary-600 mx-auto mb-4"}),(0,T.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading events..."})]}),St&&Bt&&Bt.length>0&&(0,T.jsx)("div",{className:"absolute inset-0 bg-white dark:bg-gray-900 bg-opacity-75 dark:bg-opacity-75 flex items-center justify-center z-10 rounded-lg",children:(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsx)(i.A,{className:"h-5 w-5 animate-spin text-primary-600"}),(0,T.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Loading..."})]})}),!St&&Bt&&0===Bt.length&&(0,T.jsxs)("div",{className:"text-center py-12",children:[(0,T.jsx)(x.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,T.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:null!==t&&void 0!==t&&t.token?"No events found":"Sign in to view events"}),(0,T.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:null!==t&&void 0!==t&&t.token?"my-events"===A?"You haven't created any events yet. Start by creating your first event!":"Try adjusting your search criteria or filters":"Please sign in to your account to view and manage events."}),null!==t&&void 0!==t&&t.token?"my-events"===A&&(0,T.jsx)(ye.$n,{onClick:()=>xt(!0),variant:"outline",children:"Create Your First Event"}):(0,T.jsx)(ye.$n,{onClick:()=>window.location.href="/signin",variant:"outline",children:"Sign In"})]}),(0,T.jsx)(qt,{})]}):"upcoming"===A?(0,T.jsx)(me,{events:Q,loading:X,error:$,pagination:ee,onLoadMore:ae,onLoadPrevious:se,getEventTypeLabel:Tt,formatDate:Ot,onEditEvent:Mt,onDeleteEvent:Lt,onRsvp:ze,onUpdateRsvp:Ve,rsvpLoading:Oe,getParticipationStatus:Je}):"trending"===A?(0,T.jsx)(ge,{events:re,loading:ne,error:oe,getEventTypeLabel:Tt,formatDate:Ot,onEditEvent:Mt,onDeleteEvent:Lt,onRsvp:ze,onUpdateRsvp:Ve,rsvpLoading:Oe,getParticipationStatus:Je}):"search"===A?(0,T.jsx)(pe,{searchResults:ue,loading:he,error:Ne,pagination:ke,onSearch:we,onClear:Ae,onLoadMore:Ce,onLoadPrevious:Ee,getEventTypeLabel:Tt,formatDate:Ot,onEditEvent:Mt,onDeleteEvent:Lt,onRsvp:ze,onUpdateRsvp:Ve,rsvpLoading:Oe,getParticipationStatus:Je}):"participations"===A?(0,T.jsx)(ve,{participations:Se,loading:De,error:Pe,pagination:Me,onLoadMore:Ie,onLoadPrevious:Re,onClearError:Fe,getEventTypeLabel:Tt,formatDate:Ot,onEditEvent:Mt,onDeleteEvent:Lt,onRsvp:ze,onUpdateRsvp:Ve,rsvpLoading:Oe,getParticipationStatus:Je}):"invitations"===A?(0,T.jsxs)("div",{className:"space-y-6",children:[(0,T.jsx)("div",{className:"flex items-center justify-between",children:(0,T.jsxs)("div",{children:[(0,T.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Event Invitations"}),(0,T.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your event invitations"})]})}),tt?(0,T.jsx)(ye.Zp,{className:"p-8",children:(0,T.jsxs)("div",{className:"flex items-center justify-center",children:[(0,T.jsx)(i.A,{className:"h-6 w-6 animate-spin text-primary-600"}),(0,T.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading invitations..."})]})}):at?(0,T.jsx)(ye.Zp,{className:"p-6 border-error-200 dark:border-error-700",children:(0,T.jsx)("div",{className:"text-center",children:(0,T.jsx)("p",{className:"text-error-700 dark:text-error-300",children:at})})}):$e&&0===$e.length?(0,T.jsx)(ye.Zp,{className:"p-8",children:(0,T.jsxs)("div",{className:"text-center",children:[(0,T.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,T.jsx)(m.A,{className:"h-8 w-8 text-gray-400"})}),(0,T.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No invitations"}),(0,T.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have any pending event invitations."})]})}):(0,T.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$e&&$e.map(e=>{const t=Je?Je(e.eventId):null;return(0,T.jsx)(q,{event:e.event,isMyEvent:!1,onEdit:Mt,onDelete:Lt,getEventTypeLabel:Tt,formatDate:Ot,onRsvp:ze,onUpdateRsvp:Ve,rsvpLoading:Oe,currentParticipationStatus:t,showRsvpButtons:!0},e.id)})})]}):null]}),ot&&(null===t||void 0===t?void 0:t.token)&&(0,T.jsx)(G,{isOpen:ot,onClose:()=>{xt(!1),kt(fe)},onSubmit:It,formData:Nt,setFormData:kt,event:jt,loading:St}),mt&&jt&&(0,T.jsx)(le,{isOpen:mt,onClose:()=>{gt(!1),ft(null)},event:jt,onEdit:Mt,onDelete:Lt,onInvite:()=>ht(!0),onViewParticipants:Ft,getEventTypeLabel:Tt,formatDate:Ot,onRsvp:ze,onUpdateRsvp:Ve,rsvpLoading:Oe,getParticipationStatus:Je,loading:St}),ut&&jt&&(0,T.jsx)(ie,{isOpen:ut,onClose:()=>{ht(!1),At({usernames:"",personalMessage:""})},onSubmit:st,formData:wt,setFormData:At,event:jt,loading:St}),pt&&jt&&(0,T.jsx)(de,{isOpen:pt,onClose:()=>vt(!1),event:jt,loading:St}),yt&&(null===t||void 0===t?void 0:t.token)&&(0,T.jsx)(ce,{isOpen:yt,onClose:()=>{bt(!1),Et({location:"",eventType:"",startDate:"",endDate:"",isOnline:"",organizerName:"",title:"",description:""})},onSubmit:Rt,formData:Ct,setFormData:Et,loading:St,eventTypeOptions:je})]})}},1452:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(5043),r=a(4383),n=a(342);const l=e=>{const{user:t}=(0,n.h)(),[a,l]=(0,s.useState)(null),[i,d]=(0,s.useState)(!1),[c,o]=(0,s.useState)(!1),[x,m]=(0,s.useState)(null),g=(0,s.useCallback)(async()=>{if(!e||null===t||void 0===t||!t.token)return l(null),void d(!1);try{o(!0),m(null);const t=await r.A.getEventBannerUrl(e);t&&t.success&&t.data&&t.data.exists&&t.data.photoUrl?(l(t.data.photoUrl),d(!0)):(l(null),d(!1))}catch(a){m(a.message||"Failed to load banner"),l(null),d(!1)}finally{o(!1)}},[e,null===t||void 0===t?void 0:t.token]),u=(0,s.useCallback)(async a=>{if(!e||null===t||void 0===t||!t.token||!a)throw new Error("Missing required parameters for banner upload");try{o(!0),m(null);const t=await r.A.uploadEventBanner(e,a);if(t&&t.success&&t.data)return l(t.data.fileUrl),d(!0),t.data;throw new Error("Invalid response from banner upload")}catch(s){throw m(s.message||"Failed to upload banner"),s}finally{o(!1)}},[e,null===t||void 0===t?void 0:t.token]),h=(0,s.useCallback)(async()=>{if(!e||null===t||void 0===t||!t.token)throw new Error("Missing required parameters for banner deletion");try{o(!0),m(null),await r.A.deleteEventBanner(e),l(null),d(!1)}catch(a){throw m(a.message||"Failed to delete banner"),a}finally{o(!1)}},[e,null===t||void 0===t?void 0:t.token]),p=(0,s.useCallback)(()=>{m(null)},[]);return{bannerUrl:(0,s.useCallback)(()=>{if(!a)return null;if(a.startsWith("http"))return a;if(a.startsWith("/")){const e="http://localhost:8000/ijaa/api/v1";let t=e;return e.includes("/ijaa/")&&(t=e.split("/ijaa/")[0]),"".concat(t).concat(a)}return a},[a])(),bannerExists:i,loading:c,error:x,loadBannerUrl:g,uploadBanner:u,deleteBanner:h,clearError:p}}},2134:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1114).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2191:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1114).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},2623:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1114).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},2875:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1114).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},3531:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1114).A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},4440:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1114).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},4621:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1114).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},4835:(e,t,a)=>{a.d(t,{B:()=>n});var s=a(5043),r=a(4383);const n=e=>{const[t,a]=(0,s.useState)(!1),[n,l]=(0,s.useState)(null);return{loading:t,error:n,handleCreateEvent:(0,s.useCallback)(async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(!0),l(null);try{if(!t.title||!t.startDate||!t.endDate||!t.category)throw new Error("Please fill in all required fields: title, start date, end date, and category");if(new Date(t.startDate)>=new Date(t.endDate))throw new Error("Start date must be before end date");if(t.maxParticipants&&(t.maxParticipants<1||t.maxParticipants>1e3))throw new Error("Maximum participants must be between 1 and 1000");let a,l;if(s)a=await r.A.updateEvent(s.id,t),l=a;else{const e={title:t.title,description:t.description||"",startDate:t.startDate,endDate:t.endDate,location:t.location||"",category:t.category||"SOCIAL",maxParticipants:t.maxParticipants||50,isPublic:!1!==t.isPublic,requiresApproval:t.requiresApproval||!1};a=await r.A.createEvent(e),l=a}if(l&&l.success)return await e(),{success:!0,data:l.data};var n;throw new Error((null===(n=l)||void 0===n?void 0:n.message)||"Failed to save event")}catch(i){return l(i.message||"Failed to save event"),{success:!1,error:i.message}}finally{a(!1)}},[e]),handleDeleteEvent:(0,s.useCallback)(async t=>{if(!t)return l("Event ID is required"),{success:!1,error:"Event ID is required"};if(!window.confirm("Are you sure you want to delete this event? This action cannot be undone."))return{success:!1,error:"Cancelled by user"};a(!0),l(null);try{const a=await r.A.deleteEvent(t);if(a&&a.success)return await e(),{success:!0};throw new Error((null===a||void 0===a?void 0:a.message)||"Failed to delete event")}catch(s){return l(s.message||"Failed to delete event"),{success:!1,error:s.message}}finally{a(!1)}},[e]),handleRsvp:(0,s.useCallback)(async function(t,s){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";a(!0),l(null);try{const a=await r.A.rsvpToEvent(t,s,n);if(a&&a.success)return await e(),{success:!0};throw new Error((null===a||void 0===a?void 0:a.message)||"Failed to RSVP")}catch(c){var i,d;return l((null===(i=c.response)||void 0===i||null===(d=i.data)||void 0===d?void 0:d.message)||c.message||"Failed to RSVP"),{success:!1,error:c.message}}finally{a(!1)}},[e]),handleCancelRsvp:(0,s.useCallback)(async t=>{if(!window.confirm("Are you sure you want to cancel your RSVP?"))return{success:!1,error:"Cancelled by user"};a(!0),l(null);try{const a=await r.A.cancelRsvp(t);if(a&&a.success)return await e(),{success:!0};throw new Error((null===a||void 0===a?void 0:a.message)||"Failed to cancel RSVP")}catch(i){var s,n;return l((null===(s=i.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||i.message||"Failed to cancel RSVP"),{success:!1,error:i.message}}finally{a(!1)}},[e]),clearError:(0,s.useCallback)(()=>{l(null)},[])}}},5481:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1114).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},6464:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1114).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},7114:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1114).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},7473:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1114).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},8120:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1114).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},8590:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1114).A)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},9229:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1114).A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])}}]);
//# sourceMappingURL=376.4ad3f33d.chunk.js.map