/*! For license information please see 751.21ed4bda.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_project_template=self.webpackChunkreact_project_template||[]).push([[751],{1209:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(1114).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2065:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(1114).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2191:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(1114).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},3531:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(1114).A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},3773:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(1114).A)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},4751:(e,a,s)=>{s.r(a),s.d(a,{default:()=>w});var t=s(2555),r=s(5043),l=s(3216),n=s(6953),i=s(4583),c=s(2191),o=s(3773),d=s(1209),x=s(7669),m=s(2065),h=(s(342),s(5765)),g=s(9694),p=s(6192),u=s(7897),y=s(3531),j=s(7091),f=s(6370),v=s(804);var N=s(579);const b=e=>{let{user:a,onConnect:s,onMessage:t,onViewProfile:l,loading:n=!1}=e;const{isEnabled:i}=(0,f.u)("user.interests",!1),{profilePhotoUrl:c}=(e=>{const[a,s]=(0,r.useState)(null),[t,l]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{if(!e)return s(null),void i(null);l(!0),i(null);try{const a=await(0,v.zr)(e);a.exists&&a.photoUrl?s(a.photoUrl):s(null)}catch(a){i(a.message),s(null)}finally{l(!1)}})()},[e]),{profilePhotoUrl:a,loading:t,error:n,hasPhoto:!!a}})(a.userId);return(0,N.jsx)(g.Zp,{className:"hover:shadow-md transition-shadow cursor-pointer flex flex-col h-full",onClick:()=>{n||null===l||void 0===l||l(a.userId)},children:(0,N.jsxs)("div",{className:"p-6 flex flex-col h-full",children:[(0,N.jsxs)("div",{className:"flex items-start space-x-4 mb-4",children:[(0,N.jsx)(g.eu,{size:"lg",src:c||"/dp.png",alt:a.name||"User"}),(0,N.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,N.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:a.name||"Unknown"}),(0,N.jsx)("p",{className:"text-primary-600 font-medium truncate",children:a.profession||"Not specified"})]}),a.isConnected&&(0,N.jsx)(g.Ex,{variant:"success",size:"sm",children:"Connected"})]}),(0,N.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,N.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-300",children:[(0,N.jsx)(p.A,{className:"h-4 w-4 flex-shrink-0"}),(0,N.jsx)("span",{className:"truncate",children:a.batch?"Batch ".concat(a.batch):"Batch not specified"})]}),a.location&&(0,N.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-300",children:[(0,N.jsx)(d.A,{className:"h-4 w-4 flex-shrink-0"}),(0,N.jsx)("span",{className:"truncate",children:a.location})]}),(0,N.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-300",children:[(0,N.jsx)(m.A,{className:"h-4 w-4 flex-shrink-0"}),(0,N.jsxs)("span",{children:[a.connections||0," connections"]})]})]}),(0,N.jsx)("div",{className:"flex-1 mb-4 min-h-0",children:a.bio?(0,N.jsx)("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",lineHeight:"1.5",maxHeight:"4.5rem"},children:a.bio}):(0,N.jsx)("div",{className:"h-12"})}),i?(0,N.jsx)("div",{className:"mb-6 h-8 flex items-start",children:a.interests&&a.interests.length>0?(0,N.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.interests.slice(0,2).map((e,a)=>(0,N.jsxs)(g.Ex,{variant:"secondary",size:"sm",className:"max-w-20 truncate",children:[(0,N.jsx)(u.A,{className:"h-3 w-3 flex-shrink-0 mr-1"}),e]},a)),a.interests.length>2&&(0,N.jsxs)("span",{className:"text-gray-500 dark:text-gray-400 text-xs px-2 py-1 flex items-center",children:["+",a.interests.length-2]})]}):(0,N.jsx)("div",{className:"h-8"})}):(0,N.jsx)("div",{className:"mb-6 h-8"}),(0,N.jsx)("div",{className:"mt-auto pt-4",children:a.isConnected?(0,N.jsx)(g.$n,{variant:"primary",size:"sm",fullWidth:!0,onClick:e=>{e.stopPropagation(),n||null===t||void 0===t||t(a.userId)},icon:(0,N.jsx)(y.A,{className:"h-4 w-4"}),disabled:n,children:"Message"}):(0,N.jsx)(g.$n,{variant:"primary",size:"sm",fullWidth:!0,onClick:e=>{e.stopPropagation(),n||null===s||void 0===s||s(a.userId)},icon:(0,N.jsx)(j.A,{className:"h-4 w-4"}),disabled:n,children:"Connect"})})]})})};var k=s(3555);const w=()=>{const e=(0,l.Zp)(),[a,s]=(0,r.useState)(""),[p,u]=(0,r.useState)(!1),[y,j]=(0,r.useState)(null),[f,v]=(0,r.useState)({batch:"",profession:"",location:"",sortBy:"relevance"}),[w,A]=(0,r.useState)(!1),[C,P]=(0,r.useState)([]),[S,z]=(0,r.useState)({page:0,size:12,totalElements:0,totalPages:0,first:!0,last:!0}),[E]=(0,r.useState)([6,12,24,48]),M=Array.from({length:16},(e,a)=>a+1),B=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.size;u(!0),j(null);try{var t,r;const l={searchQuery:(null===a||void 0===a?void 0:a.trim())||null,batch:f.batch||null,profession:(null===(t=f.profession)||void 0===t?void 0:t.trim())||null,location:(null===(r=f.location)||void 0===r?void 0:r.trim())||null,sortBy:f.sortBy||"relevance",page:e,size:s},n=(await h.A.post("/alumni/search",l)).data;if("200"!==n.code&&200!==n.code||!n.data)throw new Error(n.message||"Failed to fetch alumni data");P(n.data.content||[]),z({page:n.data.page,size:n.data.size,totalElements:n.data.totalElements,totalPages:n.data.totalPages,first:n.data.first,last:n.data.last})}catch(n){var l;if(n.response)j("Server error: ".concat(n.response.status," - ").concat((null===(l=n.response.data)||void 0===l?void 0:l.message)||"Unknown error"));else n.request?j("Network error: Unable to reach the server"):j(n.message||"Failed to search alumni. Please try again.");P([]),z({page:0,size:12,totalElements:0,totalPages:0,first:!0,last:!0})}finally{u(!1)}};(0,r.useEffect)(()=>{B(0)},[]);const U=()=>{B(0)},F=(e,a)=>{v(s=>(0,t.A)((0,t.A)({},s),{},{[e]:a}))},I=e=>{e>=0&&e<S.totalPages&&!p&&(B(e),window.scrollTo({top:0,behavior:"smooth"}))},q=e=>{e===S.size||p||(B(0,e),window.scrollTo({top:0,behavior:"smooth"}))},L=async e=>{try{const a=await h.A.post("/connections/request",{recipientUsername:e});"200"!==a.data.code&&200!==a.data.code||P(a=>a.map(a=>a.userId===e?(0,t.A)((0,t.A)({},a),{},{isConnected:!0}):a))}catch(a){alert("Failed to send connection request. Please try again.")}},$=e=>{alert("Chat feature has been removed from this application.")},T=a=>{e("/profile/".concat(a))},H=()=>{v({batch:"",profession:"",location:"",sortBy:"relevance"}),s("")},V=()=>0===S.totalElements?null:(0,N.jsx)("div",{className:"mt-8",children:(0,N.jsx)(g.dK,{currentPage:S.page,totalPages:S.totalPages,totalElements:S.totalElements,pageSize:S.size,onPageChange:I,onPageSizeChange:q,pageSizeOptions:E,loading:p,showPageSizeSelector:!0,showInfo:!1,className:""})}),Z=()=>(0,N.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,N.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-gray-100 dark:bg-gray-800 mb-4",children:(0,N.jsx)(n.A,{className:"h-6 w-6 text-gray-400"})}),(0,N.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Alumni Search Unavailable"}),(0,N.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"The alumni search feature is currently disabled. Please check back later or contact support for assistance."}),(0,N.jsx)(g.$n,{onClick:()=>e("/dashboard"),variant:"default",children:"Return to Dashboard"})]})})});return(0,N.jsx)(k.Ay,{featureName:"alumni.search",fallback:(0,N.jsx)(Z,{}),defaultValue:!1,children:(0,N.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,N.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,N.jsxs)("div",{className:"mb-8",children:[(0,N.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Search Alumni"}),(0,N.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Find and connect with fellow alumni from IIT JU"})]}),(0,N.jsx)(g.Zp,{className:"mb-6",children:(0,N.jsxs)("div",{className:"p-6",children:[(0,N.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,N.jsx)("div",{className:"flex-1",children:(0,N.jsx)(g.pd,{type:"text",placeholder:"Search by name, profession, or bio...",value:a,onChange:e=>s(e.target.value),onKeyPress:e=>{"Enter"===e.key&&U()},className:"w-full",icon:(0,N.jsx)(n.A,{className:"h-4 w-4"})})}),(0,N.jsxs)(g.$n,{onClick:U,disabled:p,className:"lg:w-auto",children:[p?(0,N.jsx)(i.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,N.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"Search"]}),(0,N.jsxs)(g.$n,{variant:"outline",onClick:()=>A(!w),className:"lg:w-auto",children:[(0,N.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Filters"]})]}),w&&(0,N.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Batch Year"}),(0,N.jsxs)("select",{value:f.batch,onChange:e=>F("batch",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[(0,N.jsx)("option",{value:"",children:"All Batches"}),M.map(e=>(0,N.jsx)("option",{value:e,children:e},e))]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Profession"}),(0,N.jsx)(g.pd,{type:"text",placeholder:"e.g., Software Engineer",value:f.profession,onChange:e=>F("profession",e.target.value),icon:(0,N.jsx)(o.A,{className:"h-4 w-4"})})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),(0,N.jsx)(g.pd,{type:"text",placeholder:"e.g., Dhaka, Bangladesh",value:f.location,onChange:e=>F("location",e.target.value),icon:(0,N.jsx)(d.A,{className:"h-4 w-4"})})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sort By"}),(0,N.jsxs)("select",{value:f.sortBy,onChange:e=>F("sortBy",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[(0,N.jsx)("option",{value:"relevance",children:"Relevance"}),(0,N.jsx)("option",{value:"name",children:"Name"}),(0,N.jsx)("option",{value:"batch",children:"Batch"}),(0,N.jsx)("option",{value:"connections",children:"Connections"})]})]})]}),(0,N.jsx)("div",{className:"mt-4 flex justify-end",children:(0,N.jsxs)(g.$n,{variant:"ghost",onClick:H,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:[(0,N.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})})]})]})}),y&&(0,N.jsx)(g.Zp,{className:"mb-6 border-error-200 dark:border-error-700",children:(0,N.jsx)("div",{className:"p-4",children:(0,N.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,N.jsx)(i.A,{className:"h-5 w-5 text-error-500 flex-shrink-0"}),(0,N.jsx)("p",{className:"text-error-700 dark:text-error-300",children:y})]})})}),(0,N.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,N.jsx)("div",{className:"flex items-center space-x-2",children:p?(0,N.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,N.jsx)(i.A,{className:"h-4 w-4 animate-spin"}),(0,N.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Searching..."})]}):(0,N.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2",children:[(0,N.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:["Found ",S.totalElements," alumni",a&&' for "'.concat(a,'"')]}),S.totalElements>0&&(0,N.jsxs)("p",{className:"text-gray-500 text-sm",children:["(Page ",S.page+1," of ",S.totalPages,")"]})]})}),S.totalElements>0&&!p&&(0,N.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,N.jsxs)("span",{children:["Showing ",S.page*S.size+1," to"," ",Math.min((S.page+1)*S.size,S.totalElements)," of"," ",S.totalElements," results"]}),(0,N.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,N.jsxs)("span",{className:"text-gray-400",children:[S.size," per page"]})]})]}),(0,N.jsx)("div",{className:"relative",children:(0,N.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(e=>(0,N.jsx)(b,{user:e,onConnect:L,onMessage:$,onViewProfile:T,loading:p},e.userId))})}),p&&0===C.length&&(0,N.jsxs)("div",{className:"text-center py-12",children:[(0,N.jsx)(i.A,{className:"h-8 w-8 animate-spin text-primary-600 mx-auto mb-4"}),(0,N.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:S.totalElements>0?"Loading page...":"Searching for alumni..."})]}),p&&C.length>0&&(0,N.jsx)("div",{className:"absolute inset-0 bg-white dark:bg-gray-900 bg-opacity-75 dark:bg-opacity-75 flex items-center justify-center z-10 rounded-lg",children:(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,N.jsx)(i.A,{className:"h-5 w-5 animate-spin text-primary-600"}),(0,N.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Loading..."})]})}),!p&&0===C.length&&0===S.totalElements&&(0,N.jsxs)("div",{className:"text-center py-12",children:[(0,N.jsx)(m.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,N.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No alumni found"}),(0,N.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Try adjusting your search criteria or filters"}),(0,N.jsx)(g.$n,{onClick:H,variant:"outline",children:"Clear Filters"})]}),(0,N.jsx)(V,{})]})})})}},6192:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(1114).A)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])},7091:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(1114).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},7897:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(1114).A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])}}]);
//# sourceMappingURL=751.21ed4bda.chunk.js.map